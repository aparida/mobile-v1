!function(){"use strict";window.Framework7=function(t){function a(e){var t=e.replace(/^./,function(e){return e.toUpperCase()});p["onPage"+t]=function(t,a){return p.onPage(e,t,a)}}function n(e,t,a){t=h(t);var n=t.find(e);return n.length>1&&("string"==typeof a.selector&&(n=t.find(a.selector+" "+e)),n.length>1&&(n=t.find("."+p.params.viewMainClass+" "+e))),1===n.length?n:void 0}function i(e,t,a,n){"to-left"===a&&(e.removeClass("page-on-center").addClass("page-from-center-to-left"),t.addClass("page-from-right-to-center")),"to-right"===a&&(e.removeClass("page-on-left").addClass("page-from-left-to-center"),t.removeClass("page-on-center").addClass("page-from-center-to-right"))}function o(e,t,a,n){"to-left"===a&&(t.removeClass("navbar-on-right").addClass("navbar-from-right-to-center"),t.find(".sliding").each(function(){var e=h(this);e.transform("translate3d(0px,0,0)"),p.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass("navbar-on-center").addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e=h(this);p.params.animateNavBackIcon&&(e.hasClass("center")&&t.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=t.find(".sliding.left .back span")[0].offsetLeft),e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),e.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===a&&(e.removeClass("navbar-on-left").addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=h(this);e.transform("translate3d(0px,0,0)"),p.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),t.removeClass("navbar-on-center").addClass("navbar-from-center-to-right"),t.find(".sliding").each(function(){var e=h(this);p.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))}function s(e,t,a,i){var o=h(e.container),s=h(e.pagesContainer),r,l,d,c,f,u,m,v,g;if(p.pluginHook("loadPage",e,t,a),p._tempDomElement.innerHTML="",t||"string"==typeof a)p._tempDomElement.innerHTML=a;else if("length"in a&&a.length>1)for(var b=0;b<a.length;b++)h(p._tempDomElement).append(a[b]);else h(p._tempDomElement).append(a);if(g=i.reloadPrevious?"left":"center",r=n(".page",p._tempDomElement,e),!r)return void(e.allowPageChange=!0);if(r.addClass("page-on-"+g),d=s.children(".page:not(.cached)"),i.reloadPrevious&&1===d.length)return void(e.allowPageChange=!0);l=d.eq(d.length-1),e.params.dynamicNavbar&&(v=!0,u=n(".navbar-inner",p._tempDomElement,e),u||(v=!1),m=o.find(".navbar"),f=m.find(".navbar-inner:last-child")),v&&u.addClass("navbar-on-"+g),t||(t="#content-"+e.history.length,e.params.domCache||(e.contentCache[t]=a)),e.url=t;var w=e.history[e.history.length-(i.reloadPrevious?2:1)];0===w.indexOf("#content")&&w in e.contentCache&&(e.contentCache[w]=null,delete e.contentCache[w]),e.history[e.history.length-(i.reloadPrevious?2:1)]=t,i.reloadPrevious?(l=l.prev(".page"),r.insertBefore(l),v&&(f=f.prev(".navbar-inner"),u.insertAfter(f))):(s.append(r[0]),v&&m.append(u[0])),p.pageRemoveCallback(e,l[0],g),l.remove(),v&&f.remove(),p.pageInitCallback(e,r[0],t,g,v?u[0]:void 0),v&&p.navbarInitCallback(e,r[0],m[0],u[0],t,g),e.allowPageChange=!0}function r(e,t,a,s){function r(){e.allowPageChange=!0,f.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),u.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),C&&(b.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),g.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),p.pageAnimCallbacks("after",e,{pageContainer:f[0],url:t,position:"right",oldPage:u,newPage:f}),p.params.pushState&&p.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(u.addClass("cached"),g.addClass("cached")):(u.remove(),g.remove())),e.params.uniqueHistory&&T&&e.refreshPreviousPage()}var l=h(e.container),d=h(e.pagesContainer),c=s.animatePages,f,u,m,v,g,b,w,C;if("undefined"==typeof c&&(c=e.params.animatePages),p.pluginHook("loadPage",e,t,a),p._tempDomElement.innerHTML="",t||"string"==typeof a)p._tempDomElement.innerHTML=a;else if("length"in a&&a.length>1)for(var x=0;x<a.length;x++)h(p._tempDomElement).append(a[x]);else h(p._tempDomElement).append(a);if(f=n(".page",p._tempDomElement,e),!f)return void(e.allowPageChange=!0);if(f.addClass("page-on-right"),m=d.children(".page:not(.cached)"),m.length>1){for(v=0;v<m.length-2;v++)e.params.domCache?h(m[v]).addClass("cached"):(p.pageRemoveCallback(e,m[v],"left"),h(m[v]).remove());e.params.domCache?h(m[v]).addClass("cached"):(p.pageRemoveCallback(e,m[v],"left"),h(m[v]).remove())}if(u=d.children(".page:not(.cached)"),e.params.dynamicNavbar&&(C=!0,b=n(".navbar-inner",p._tempDomElement,e),b||(C=!1),w=l.find(".navbar"),g=w.find(".navbar-inner:not(.cached)"),g.length>0)){for(v=0;v<g.length-1;v++)e.params.domCache?h(g[v]).addClass("cached"):h(g[v]).remove();b||1!==g.length||(e.params.domCache?h(g[0]).addClass("cached"):h(g[0]).remove()),g=w.find(".navbar-inner:not(.cached)")}C&&(b.addClass("navbar-on-right"),w.append(b[0])),t||(t="#content-"+e.history.length,e.params.domCache||(e.contentCache[t]=a)),e.url=t,e.history.push(t);var y=!1,T=!1;e.params.uniqueHistory&&e.history.indexOf(t)!==e.history.lastIndexOf(t)&&(e.history=e.history.slice(0,e.history.indexOf(t)),e.history.push(t),T=!0),d.append(f[0]),p.pageInitCallback(e,f[0],t,"right",C?b[0]:void 0),C&&p.navbarInitCallback(e,f[0],w[0],b[0],t,"right"),C&&c&&b.find(".sliding").each(function(){var e=h(this);e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)"),p.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)")});var k=f[0].clientLeft;p.pageAnimCallbacks("before",e,{pageContainer:f[0],url:t,position:"right",oldPage:u,newPage:f}),c?(i(u,f,"to-left",e),C&&setTimeout(function(){o(g,b,"to-left",e)},0),f.animationEnd(function(e){r()})):r()}function l(e,t,a){p.pluginHook("preprocess",e,t,a),e=p.pluginProcess("preprocess",e),p.params.preprocess?(e=p.params.preprocess(e,t,a),"undefined"!=typeof e&&a(e)):a(e)}function d(){var e=this,t=e.scrollTop,a=e.scrollHeight,n=e.offsetHeight,i=e.getAttribute("data-distance");i||(i=50),"string"==typeof i&&i.indexOf("%")>=0&&(i=parseInt(i,10)/100*n),i>n&&(i=n),t+n>=a-i&&h(e).trigger("infinite")}function c(){p.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var p=this;p.version="0.9.6",p.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:!0,ajaxLinks:void 0,externalLinks:["external"],sortable:!0,swipeout:!0,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",init:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0};for(var f in t)p.params[f]=t[f];var h=e,u=Template7;p._compiledTemplates={},p.touchEvents={start:p.support.touch?"touchstart":"mousedown",move:p.support.touch?"touchmove":"mousemove",end:p.support.touch?"touchend":"mouseup"},p.ls=localStorage,p.rtl="rtl"===h("body").css("direction"),p.rtl&&h("html").attr("dir","rtl"),"undefined"!=typeof p.params.statusbarOverlay&&(p.params.statusbarOverlay?h("html").addClass("with-statusbar-overlay"):h("html").removeClass("with-statusbar-overlay")),p.globalEventListeners={},p.initGlobalEventListeners=function(){function e(e){var t;h(document).on(e,function(a){for(t=0;t<p.globalEventListeners[e].length;t++)p.globalEventListeners[e][t](a)}),p.globalEventListeners[e].initialized=!0}for(var t in p.globalEventListeners)p.globalEventListeners[t].initialized||e(t)},p.addGlobalEventListener=function(e,t){e in p.globalEventListeners||(p.globalEventListeners[e]=[]),p.globalEventListeners[e].push(t),p.initGlobalEventListeners()},p.removeGlobalEventListener=function(e,t){if(e in p.globalEventListeners)for(var a=p.globalEventListeners[e],n=0;n<a.length;n++)a[n]===t&&a.splice(n,1)},p.views=[];var m=function(e,t){function a(e){o[e]=function(t){t=t||{};var a=e.toLowerCase(),n=a.indexOf("content")>0;return("string"==typeof t||t.nodeType||"length"in t)&&(t=n?{content:t}:{url:t}),a.indexOf("reload")>=0&&(t.reload=!0,a.indexOf("previous")>=0&&(t.reloadPrevious=!0)),a.indexOf("refresh")>=0&&(t.url=a.indexOf("previous")>=0?o.history[o.history.length-2]:o.url,t.reload=!0,t.ignoreCache=!0,a.indexOf("previous")>=0&&(t.reloadPrevious=!0)),p.loadPage(o,t)}}var n={dynamicNavbar:!1,domCache:!1,linksView:void 0,uniqueHistory:p.params.uniqueHistory,swipeBackPage:p.params.swipeBackPage,swipeBackPageBoxShadow:p.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:p.params.swipeBackPageActiveArea,swipeBackPageThreshold:p.params.swipeBackPageThreshold,animatePages:p.params.animatePages,preloadPreviousPage:p.params.preloadPreviousPage};t=t||{};for(var i in n)"undefined"==typeof t[i]&&(t[i]=n[i]);var o=this;o.params=t,o.selector=e;var s=h(e);o.container=s[0];var r=document.location.href;o.history=[];var l=r,d=p.params.pushStateSeparator,c=p.params.pushStateRoot;if(p.params.pushState&&(c?l=c:l.indexOf(d)>=0&&l.indexOf(d+"#")<0&&(l=l.split(d)[0])),o.url=s.attr("data-url")||o.params.url||l,o.url&&o.history.push(o.url),o.contentCache={},s[0].f7View=o,o.pagesContainer=s.find(".pages")[0],o.allowPageChange=!0,!o.activePage){var f=h(o.pagesContainer).find(".page-on-center"),u;0===f.length&&(f=h(o.pagesContainer).find(".page"),f=f.eq(f.length-1)),f.length>0&&(u=f[0].f7PageData),u&&(u.view=o,o.url&&(u.url=o.url),o.activePage=u,f[0].f7PageData=u)}o.main=s.hasClass(p.params.viewMainClass);var m=!1,v=!1,g={},b,w,C,x,y,T=!0,k,S,P,O,E,M,B,N,D;o.handleTouchStart=function(e){T&&o.params.swipeBackPage&&!m&&!p.swipeoutOpenedEl&&(v=!1,m=!0,b=void 0,g.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,k=(new Date).getTime(),N=o.params.dynamicNavbar&&s.find(".navbar-inner").length>1)},o.handleTouchMove=function(e){if(m){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof b&&(b=!!(b||Math.abs(a-g.y)>Math.abs(t-g.x))),b||e.f7PreventSwipeBack||p.preventSwipeBack)return void(m=!1);if(!v){var n=!1;x=s.width();var i=h(e.target),r=i.hasClass("swipeout")?i:i.parents(".swipeout");r.length>0&&(!p.rtl&&r.find(".swipeout-actions-left").length>0&&(n=!0),p.rtl&&r.find(".swipeout-actions-right").length>0&&(n=!0)),w=i.is(".page")?i:i.parents(".page"),w.hasClass("no-swipeback")&&(n=!0),C=s.find(".page-on-left:not(.cached)");var l=g.x-s.offset().left>o.params.swipeBackPageActiveArea;if(l=p.rtl?g.x<s.offset().left-s[0].scrollLeft+x-o.params.swipeBackPageActiveArea:g.x-s.offset().left>o.params.swipeBackPageActiveArea,l&&(n=!0),(0===C.length||0===w.length)&&(n=!0),n)return void(m=!1);N&&(S=s.find(".navbar-on-center:not(.cached)"),P=s.find(".navbar-on-left:not(.cached)"),O=S.find(".left, .center, .right"),E=P.find(".left, .center, .right"),p.params.animateNavBackIcon&&(M=S.find(".left.sliding .back .icon"),B=P.find(".left.sliding .back .icon")))}e.f7PreventPanelSwipe=!0,v=!0,e.preventDefault();var d=p.rtl?-1:1;y=(t-g.x-o.params.swipeBackPageThreshold)*d,0>y&&(y=0);var c=y/x,f={percentage:c,activePage:w[0],previousPage:C[0],activeNavbar:S[0],previousNavbar:P[0]};o.params.onSwipeBackMove&&o.params.onSwipeBackMove(f),s.trigger("swipebackmove",f);var u=y*d,T=(y/5-x/5)*d;if(1===p.device.pixelRatio&&(u=Math.round(u),T=Math.round(T)),w.transform("translate3d("+u+"px,0,0)"),o.params.swipeBackPageBoxShadow&&"android"!==p.device.os&&(w[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*c)+")"),C.transform("translate3d("+T+"px,0,0)"),C[0].style.opacity=.9+.1*c,N){var k;for(k=0;k<O.length;k++)if(D=h(O[k]),D[0].style.opacity=1-1.3*c,D[0].className.indexOf("sliding")>=0){var L=c*D[0].f7NavbarRightOffset;1===p.device.pixelRatio&&(L=Math.round(L)),D.transform("translate3d("+L+"px,0,0)"),p.params.animateNavBackIcon&&D[0].className.indexOf("left")>=0&&M.length>0&&M.transform("translate3d("+-L+"px,0,0)")}for(k=0;k<E.length;k++)if(D=h(E[k]),D[0].style.opacity=1.3*c-.3,D[0].className.indexOf("sliding")>=0){var I=D[0].f7NavbarLeftOffset*(1-c);1===p.device.pixelRatio&&(I=Math.round(I)),D.transform("translate3d("+I+"px,0,0)"),p.params.animateNavBackIcon&&D[0].className.indexOf("left")>=0&&B.length>0&&B.transform("translate3d("+-I+"px,0,0)")}}}},o.handleTouchEnd=function(e){if(!m||!v)return m=!1,void(v=!1);if(m=!1,v=!1,0===y)return h([w[0],C[0]]).transform("").css({opacity:"",boxShadow:""}),void(N&&(O.transform("").css({opacity:""}),E.transform("").css({opacity:""}),M&&M.length>0&&M.transform(""),B&&M.length>0&&B.transform("")));var t=(new Date).getTime()-k,a=!1;if((300>t&&y>10||t>=300&&y>x/2)&&(w.removeClass("page-on-center").addClass("page-on-right"),C.removeClass("page-on-left").addClass("page-on-center"),N&&(S.removeClass("navbar-on-center").addClass("navbar-on-right"),P.removeClass("navbar-on-left").addClass("navbar-on-center")),a=!0),h([w[0],C[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),N&&(O.css({opacity:""}).each(function(){var e=a?this.f7NavbarRightOffset:0,t=h(this);t.transform("translate3d("+e+"px,0,0)"),p.params.animateNavBackIcon&&t.hasClass("left")&&M.length>0&&M.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),E.transform("").css({opacity:""}).each(function(){var e=a?0:this.f7NavbarLeftOffset,t=h(this);t.transform("translate3d("+e+"px,0,0)"),p.params.animateNavBackIcon&&t.hasClass("left")&&B.length>0&&B.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),T=!1,o.allowPageChange=!1,a){var n=o.history[o.history.length-2];o.url=n,p.pageAnimCallbacks("before",o,{pageContainer:C[0],url:n,position:"left",newPage:C,oldPage:w,swipeBack:!0})}w.transitionEnd(function(){h([w[0],C[0]]).removeClass("page-transitioning"),N&&(O.removeClass("page-transitioning").css({opacity:""}),E.removeClass("page-transitioning").css({opacity:""}),M&&M.length>0&&M.removeClass("page-transitioning"),B&&B.length>0&&B.removeClass("page-transitioning")),T=!0,o.allowPageChange=!0,a&&(p.params.pushState&&history.back(),p.pageAnimCallbacks("after",o,{pageContainer:C[0],url:n,position:"left",newPage:C,oldPage:w,swipeBack:!0}),p.afterGoBack(o,w,C))})},o.attachEvents=function(e){var t=e?"off":"on";s[t](p.touchEvents.start,o.handleTouchStart),s[t](p.touchEvents.move,o.handleTouchMove),s[t](p.touchEvents.end,o.handleTouchEnd)},o.detachEvents=function(){o.attachEvents(!0)},o.params.swipeBackPage&&o.attachEvents(),p.views.push(o),o.main&&(p.mainView=o);for(var L="loadPage loadContent reloadPage reloadContent reloadPreviousPage reloadPreviousContent refreshPage refreshPreviousPage".split(" "),I=0;I<L.length;I++)a(L[I]);if(o.goBack=function(e){return e=e||{},("string"==typeof e||e.nodeType||"length"in e)&&(e={url:e}),p.goBack(o,e)},o.hideNavbar=function(){return p.hideNavbar(s)},o.showNavbar=function(){return p.showNavbar(s)},o.hideToolbar=function(){return p.hideToolbar(s)},o.showToolbar=function(){return p.showToolbar(s)},p.params.pushState&&o.main){var A;c?A=r.split(p.params.pushStateRoot+d)[1]:r.indexOf(d)>=0&&r.indexOf(d+"#")<0&&(A=r.split(d)[1]);var H=p.params.pushStateNoAnimation?!1:void 0;A&&p.loadPage(o,{url:A,animatePages:H,pushState:!1})}return o.destroy=function(){o.detachEvents(),o=void 0},p.pluginHook("addView",o),o};p.addView=function(e,t){return new m(e,t)},p.navbarInitCallback=function(e,t,a,n,i,o){var s={container:a,innerContainer:n},r={url:i,query:h.parseUrlQuery(i||""),container:t,name:h(t).attr("data-page"),view:e,from:o},l={navbar:s,page:r};p.pluginHook("navbarInit",s,r),h(n).trigger("navbarInit",l)},p.sizeNavbars=function(e){var t=e?h(e).find(".navbar .navbar-inner:not(.cached)"):h(".navbar .navbar-inner:not(.cached)");t.each(function(){var e=h(this),t=e.find(p.rtl?".right":".left"),a=e.find(p.rtl?".left":".right"),n=e.find(".center"),i=0===t.length,o=0===a.length,s=i?0:t.outerWidth(!0),r=o?0:a.outerWidth(!0),l=n.outerWidth(!0),d=e.width(),c=e.hasClass("navbar-on-left"),f,u;o&&(f=d-l),i&&(f=0),i||o||(f=(d-r-l+s)/2);var m=(d-l)/2;d-s-r>l?(s>m&&(m=s),m+l>d-r&&(m=d-r-l),u=m-f):u=0;var v=p.rtl?-1:1,g=u;p.rtl&&i&&o&&n.length>0&&(g=-g),n.css({left:g+"px"}),n.hasClass("sliding")&&(n[0].f7NavbarLeftOffset=-(f+u)*v,n[0].f7NavbarRightOffset=(d-f-u-l)*v,c&&n.transform("translate3d("+n[0].f7NavbarLeftOffset+"px, 0, 0)")),!i&&t.hasClass("sliding")&&(p.rtl?(t[0].f7NavbarLeftOffset=-(d-t.outerWidth())/2*v,t[0].f7NavbarRightOffset=s*v):(t[0].f7NavbarLeftOffset=-s,t[0].f7NavbarRightOffset=(d-t.outerWidth())/2),c&&t.transform("translate3d("+t[0].f7NavbarLeftOffset+"px, 0, 0)")),!o&&a.hasClass("sliding")&&(p.rtl?(a[0].f7NavbarLeftOffset=-r*v,a[0].f7NavbarRightOffset=(d-a.outerWidth())/2*v):(a[0].f7NavbarLeftOffset=-(d-a.outerWidth())/2,a[0].f7NavbarRightOffset=r),c&&a.transform("translate3d("+a[0].f7NavbarLeftOffset+"px, 0, 0)"))})},p.hideNavbar=function(e){return h(e).addClass("hidden-navbar"),!0},p.showNavbar=function(e){var t=h(e);return t.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){t.removeClass("hiding-navbar")}),!0},p.hideToolbar=function(e){return h(e).addClass("hidden-toolbar"),!0},p.showToolbar=function(e){var t=h(e);t.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){t.removeClass("hiding-toolbar")})},p.initSearchbar=function(e){function t(){u.val("").trigger("change"),c.removeClass("searchbar-active searchbar-not-empty"),v.length>0&&v.css(T,-y+"px"),g&&f.removeClass("searchbar-overlay-active"),p.device.ios?setTimeout(function(){u.blur()},400):u.blur()}function a(){p.device.ios?setTimeout(function(){g&&!c.hasClass("searchbar-active")&&f.addClass("searchbar-overlay-active"),c.addClass("searchbar-active"),v.length>0&&v.css(T,"0px"),g.trigger("enableSearch")},400):(g&&!c.hasClass("searchbar-active")&&f.addClass("searchbar-overlay-active"),c.addClass("searchbar-active"),v.length>0&&v.css(T,"0px"),g.trigger("disableSearch"))}function n(){u.val("").trigger("change"),g.trigger("clearSearch")}function i(){setTimeout(function(){var e=u.val().trim();0===e.length?(c.removeClass("searchbar-not-empty"),g&&c.hasClass("searchbar-active")&&f.addClass("searchbar-overlay-active")):(c.addClass("searchbar-not-empty"),g&&c.hasClass("searchbar-active")&&f.removeClass("searchbar-overlay-active")),g.length>0&&b&&l(e)},0)}function o(e){e.preventDefault()}function s(e){var s=e?"off":"on";c[s]("submit",o),v[s]("click",t),f[s]("click",t),u[s]("focus",a),u[s]("change keydown keypress keyup",i),m[s]("click",n)}function r(){s(!0)}function l(e){var t=e.trim().toLowerCase().split(" ");g.find("li").removeClass("hidden-by-searchbar");var a=[];g.find("li").each(function(e,n){n=h(n);var i=n.find(b);if(0!==i.length){var o;o=i.text().trim().toLowerCase();for(var s=0,r=0;r<t.length;r++)o.indexOf(t[r])>=0&&s++;s!==t.length?n.addClass("hidden-by-searchbar"):a.push(n[0])}}),p.params.searchbarHideDividers&&g.find(".item-divider, .list-group-title").each(function(){for(var e=h(this),t=e.nextAll("li"),a=!0,n=0;n<t.length;n++){var i=h(t[n]);if(i.hasClass("list-group-title")||i.hasClass("item-divider"))break;i.hasClass("hidden-by-searchbar")||(a=!1)}a?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),p.params.searchbarHideGroups&&g.find(".list-group").each(function(){var e=h(this),t=e.find("li:not(.hidden-by-searchbar)");0===t.length?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),g.trigger("search",{query:e,foundItems:a}),0===a.length?(x.show(),C.hide()):(x.hide(),C.show())}function d(){r(),e.off("pageBeforeRemove",d)}e=h(e);var c=e.hasClass("searchbar")?e:e.find(".searchbar");if(0!==c.length){e.hasClass("page")||(e=c.parents(".page").eq(0));var f=e.hasClass("page")?e.find(".searchbar-overlay"):h(".searchbar-overlay"),u=c.find('input[type="search"]'),m=c.find(".searchbar-clear"),v=c.find(".searchbar-cancel"),g=h(c.attr("data-search-list")),b=c.attr("data-search-in"),w=c.attr("data-search-by"),C=c.attr("data-searchbar-found");C?C=h(C):(C=e.find(".searchbar-found"),0===C.length&&(C=h(".searchbar-found")));var x=c.attr("data-searchbar-not-found");x?x=h(x):(x=e.find(".searchbar-not-found"),0===x.length&&(x=h(".searchbar-not-found")));var y,T=p.rtl?"margin-left":"margin-right";v.length>0&&(y=v.width(),v.css(T,-y+"px")),c[0].f7DestroySearchbar=r,s(),e.hasClass("page")&&e.on("pageBeforeRemove",d)}},p.destroySearchbar=function(e){e=h(e);var t=e.hasClass("searchbar")?e:e.find(".searchbar");0!==t.length&&t[0].f7DestroySearchbar&&t[0].f7DestroySearchbar()},p.initMessagebar=function(e){function t(e){e.preventDefault()}function a(){l.css({height:""});var e=l[0].offsetHeight,t=e-l[0].clientHeight,a=l[0].scrollHeight;if(a+t>e){var n=a+t,i=c+(n-p),o=r.attr("data-max-height")||r.parents(".view")[0].offsetHeight-88;i>o&&(i=o,n=i-c+p),l.css("height",n+"px"),r.css("height",i+"px"),d.length>0&&(d.css("padding-bottom",i+"px"),d.scrollTop(d[0].scrollHeight-d[0].offsetHeight))}else d.length>0&&(r.css({height:""}),d.css({"padding-bottom":""}))}function n(e){clearTimeout(f),f=setTimeout(function(){a()},0)}function i(e){var a=e?"off":"on";r[a]("submit",t),l[a]("change keydown keypress keyup paste cut",n)}function o(){i(!0)}function s(){o(),e.off("pageBeforeRemove",s)}e=h(e);var r=e.hasClass("messagebar")?e:e.find(".messagebar");if(0!==r.length){var l=r.find("textarea"),d=r.parents(".page").find(".page-content"),c=r[0].offsetHeight,p=l[0].offsetHeight,f;r[0].f7DestroyMessagebar=o,i(),e.hasClass("page")&&e.on("pageBeforeRemove",s)}},p.destroyMessagebar=function(e){e=h(e);var t=e.hasClass("messagebar")?e:e.find(".messagebar");0!==t.length&&t[0].f7DestroyMessagebar&&t[0].f7DestroyMessagebar()},p.cache=[],p.removeFromCache=function(e){for(var t=!1,a=0;a<p.cache.length;a++)p.cache[a].url===e&&(t=a);t!==!1&&p.cache.splice(t,1)},p.xhr=!1,p.get=function(e,t,a,n){var i=e;if(p.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(i=e.split("?")[0]),p.params.cache&&!a&&e.indexOf("nocache")<0&&p.params.cacheIgnore.indexOf(i)<0)for(var o=0;o<p.cache.length;o++)if(p.cache[o].url===i&&(new Date).getTime()-p.cache[o].time<p.params.cacheDuration)return n(p.cache[o].content),!1;return p.xhr=h.ajax({url:e,method:"GET",start:p.params.onAjaxStart,complete:function(e){200===e.status||0===e.status?(n(e.responseText,!1),p.params.cache&&!a&&(p.removeFromCache(i),p.cache.push({url:i,time:(new Date).getTime(),content:e.responseText}))):n(e.responseText,!0),p.params.onAjaxComplete&&p.params.onAjaxComplete(e)},error:function(e){n(e.responseText,!0),p.params.onAjaxError&&p.params.onAjaxonAjaxError(e)}}),t&&(t.xhr=p.xhr),p.xhr},p.pageCallbacks={},p.onPage=function(e,t,a){if(t&&t.split(" ").length>1){for(var n=t.split(" "),i=[],o=0;o<n.length;o++)i.push(p.onPage(e,n[o],a));return i.remove=function(){for(var e=0;e<i.length;e++)i[e].remove()},i.trigger=function(){for(var e=0;e<i.length;e++)i[e].trigger()},i}var s=p.pageCallbacks[e][t];return s||(s=p.pageCallbacks[e][t]=[]),p.pageCallbacks[e][t].push(a),{remove:function(){for(var e,t=0;t<s.length;t++)s[t].toString()===a.toString()&&(e=t);"undefined"!=typeof e&&s.splice(e,1)},trigger:a}};for(var v="beforeInit init beforeAnimation afterAnimation beforeRemove".split(" "),g=0;g<v.length;g++)p.pageCallbacks[v[g]]={},a(v[g]);p.triggerPageCallbacks=function(e,t,a){var n=p.pageCallbacks[e]["*"];if(n)for(var i=0;i<n.length;i++)n[i](a);var o=p.pageCallbacks[e][t];if(o&&0!==o.length)for(var s=0;s<o.length;s++)o[s](a)},p.pageInitCallback=function(e,t,a,n,i){if(!t.f7PageInitialized){t.f7PageInitialized=!0;var o={container:t,url:a,query:h.parseUrlQuery(a||""),name:h(t).attr("data-page"),view:e,from:n,navbarInnerContainer:i};t.f7PageData=o,e&&(e.activePage=o),p.pluginHook("pageBeforeInit",o),p.params.onPageBeforeInit&&p.params.onPageBeforeInit(p,o),p.triggerPageCallbacks("beforeInit",o.name,o),h(o.container).trigger("pageBeforeInit",{page:o}),p.initPage(t),p.pluginHook("pageInit",o),p.params.onPageInit&&p.params.onPageInit(p,o),p.triggerPageCallbacks("init",o.name,o),h(o.container).trigger("pageInit",{page:o})}},p.pageRemoveCallback=function(e,t,a){var n={container:t,name:h(t).attr("data-page"),view:e,from:a};p.pluginHook("pageBeforeRemove",n),p.params.onPageBeforeRemove&&p.params.onPageBeforeRemove(p,n),p.triggerPageCallbacks("beforeRemove",n.name,n),h(n.container).trigger("pageBeforeRemove",{page:n})},p.pageAnimCallbacks=function(e,t,a){var n={container:a.pageContainer,url:a.url,query:h.parseUrlQuery(a.url||""),name:h(a.pageContainer).attr("data-page"),view:t,from:a.position,swipeBack:a.swipeBack},i=a.oldPage,o=a.newPage;a.pageContainer.f7PageData=n,"after"===e&&(p.pluginHook("pageAfterAnimation",n),p.params.onPageAfterAnimation&&p.params.onPageAfterAnimation(p,n),p.triggerPageCallbacks("afterAnimation",n.name,n),h(n.container).trigger("pageAfterAnimation",{page:n})),"before"===e&&(h(t.container).attr("data-page",n.name),t&&(t.activePage=n),o.hasClass("no-navbar")&&!i.hasClass("no-navbar")&&t.hideNavbar(),!o.hasClass("no-navbar")&&i.hasClass("no-navbar")&&t.showNavbar(),o.hasClass("no-toolbar")&&!i.hasClass("no-toolbar")&&t.hideToolbar(),!o.hasClass("no-toolbar")&&i.hasClass("no-toolbar")&&t.showToolbar(),p.pluginHook("pageBeforeAnimation",n),p.params.onPageBeforeAnimation&&p.params.onPageBeforeAnimation(p,n),p.triggerPageCallbacks("beforeAnimation",n.name,n),h(n.container).trigger("pageBeforeAnimation",{page:n}))},p.initPage=function(e){p.sizeNavbars&&p.sizeNavbars(h(e).parents("."+p.params.viewClass)[0]),p.initMessages&&p.initMessages(e),p.initFormsStorage&&p.initFormsStorage(e),p.initSmartSelects&&p.initSmartSelects(e),p.initSlider&&p.initSlider(e),p.initPullToRefresh&&p.initPullToRefresh(e),p.initInfiniteScroll&&p.initInfiniteScroll(e),p.initSearchbar&&p.initSearchbar(e),p.initMessagebar&&p.initMessagebar(e)},p.allowPageChange=!0,p._tempDomElement=document.createElement("div"),p.loadPage=function(e,t){function a(a){if(p.params.pushState&&!t.reloadPrevious){"undefined"==typeof o&&(o=!0);var i=p.params.pushStateRoot||"",d=t.reload?"replaceState":"pushState";o&&(n?history[d]({url:n},"",i+p.params.pushStateSeparator+n):a&&history[d]({content:a,url:"#content-"+e.history.length},"",i+p.params.pushStateSeparator+"#content-"+e.history.length))}l(a,n,function(a){t.reload?s(e,n,a,t):r(e,n,a,t)})}var n=t.url,i=t.content,o=t.pushState;return e.allowPageChange?n&&e.url===n&&!t.reload?!1:(e.allowPageChange=!1,p.xhr&&e.xhr&&e.xhr===p.xhr&&(p.xhr.abort(),p.xhr=!1),i?void a(i):void p.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)})):!1},p.goBack=function(e,t){function a(){function t(){p.afterGoBack(e,w[0],C[0]),p.pageAnimCallbacks("after",e,{pageContainer:C[0],url:r,position:"left",oldPage:w,newPage:C})}p.pageAnimCallbacks("before",e,{pageContainer:C[0],url:r,position:"left",oldPage:w,newPage:C}),d?(i(C,w,"to-right",e),k&&setTimeout(function(){o(y,x,"to-right",e)},0),C.animationEnd(function(){t()})):(y.find(".sliding, .sliding .back .icon").transform(""),t())}function s(){if(C=n(".page",p._tempDomElement,e),!C)return void(e.allowPageChange=!0);if(C.addClass("page-on-left"),w=h(b[0]),e.params.dynamicNavbar&&(k=!0,y=n(".navbar-inner",p._tempDomElement,e),y||(k=!1)),k&&(T=v.find(".navbar"),x=T.find(".navbar-inner"),y.addClass(x.length>0?"navbar-on-left":"navbar-on-center"),x.length>1&&(h(x[0]).remove(),x=T.find(".navbar-inner")),T.prepend(y[0])),g.prepend(C[0]),p.pageInitCallback(e,C[0],r,"left",k?y[0]:void 0),k&&p.navbarInitCallback(e,C[0],T[0],y[0],r,"right"),k&&y.hasClass("navbar-on-left")&&d&&y.find(".sliding").each(function(){var e=h(this);p.params.animateNavBackIcon&&(e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)"),e.hasClass("center")&&x.find(".left .back .icon ~ span").length>0&&(this.f7NavbarLeftOffset+=x.find(".left .back span")[0].offsetLeft)),e.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")}),c)return C.addClass("page-on-left"),void(e.allowPageChange=!0);e.url=r;var t=C[0].clientLeft;a()}if(!e.allowPageChange)return!1;var r=t.url,d=t.animatePages,c=t.preloadOnly,f=t.pushState,u=t.ignoreCache,m=t.forceUrl;e.allowPageChange=!1,p.xhr&&e.xhr&&e.xhr===p.xhr&&(p.xhr.abort(),p.xhr=!1),p.pluginHook("goBack",e,r,c),p.params.pushState&&("undefined"==typeof f&&(f=!0),!c&&history.state&&f&&history.back());var v=h(e.container),g=h(e.pagesContainer),b=g.children(".page"),w,C,x,y,T,k;if("undefined"==typeof d&&(d=e.params.animatePages),b.length>1&&!m){if(c)return void(e.allowPageChange=!0);if(e.url=e.history[e.history.length-2],C=h(b[b.length-2]),w=h(b[b.length-1]),e.params.dynamicNavbar){k=!0;var S=v.find(".navbar-inner:not(.cached)");y=h(S[0]),x=h(S[1])}a()}else{if(b.length>1&&m&&(p.pageRemoveCallback(e,b[b.length-2],"left"),h(b[b.length-2]).remove(),e.params.dynamicNavbar&&v.find(".navbar-inner:not(.cached)").eq(0).remove(),b=g.children(".page")),r&&0===r.indexOf("#")&&(r=void 0),(m&&!r||!m)&&(r=e.history[e.history.length-2]),!r)return void(e.allowPageChange=!0);if(m&&e.history.indexOf(r)&&(e.history=e.history.slice(0,e.history.indexOf(r)+2)),!e.params.domCache&&r in e.contentCache){var P=e.contentCache[r];return p._tempDomElement.innerHTML="",h(p._tempDomElement).append(P),void s()}p.get(r,e,u,function(t,a){return a?void(e.allowPageChange=!0):void l(t,r,function(e){p._tempDomElement.innerHTML=e,s()})})}},p.afterGoBack=function(e,t,a){if(t=h(t),a=h(a),p.pageRemoveCallback(e,t[0],"right"),t.remove(),a.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0,e.params.dynamicNavbar){var n=h(e.container).find(".navbar-inner:not(.cached)"),i=h(n[1]).remove(),o=h(n[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center");if(e.params.preloadPreviousPage&&e.params.domCache){var s=h(e.container).find(".navbar-inner.cached");h(s[s.length-1]).removeClass("cached")}}var r=e.history.pop();if(!e.params.domCache&&r&&r.indexOf("#content-")>-1&&r in e.contentCache&&(e.contentCache[r]=null,delete e.contentCache[r]),p.params.pushState&&p.pushStateClearQueue(),e.params.preloadPreviousPage){if(e.params.domCache){var l=h(e.container).find(".page.cached");h(l[l.length-1]).removeClass("cached")}p.goBack(e,{preloadOnly:!0})}};var b=document.createElement("div");p.modal=function(e){e=e||{};var t="";if(p.params.modalTemplate)p._compiledTemplates.modal||(p._compiledTemplates.modal=u.compile(p.params.modalTemplate)),t=p._compiledTemplates.modal(e);else{var a="";if(e.buttons&&e.buttons.length>0)for(var n=0;n<e.buttons.length;n++)a+='<span class="modal-button'+(e.buttons[n].bold?" modal-button-bold":"")+'">'+e.buttons[n].text+"</span>";
var i=e.title?'<div class="modal-title">'+e.title+"</div>":"",o=e.title?'<div class="modal-text">'+e.text+"</div>":"",s=e.afterText?e.afterText:"",r=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons";t='<div class="modal '+r+'"><div class="modal-inner">'+(i+o+s)+'</div><div class="modal-buttons">'+a+"</div></div>"}b.innerHTML=t;var l=h(b).children();return h("body").append(l[0]),l.find(".modal-button").each(function(t,a){h(a).on("click",function(a){e.buttons[t].close!==!1&&p.closeModal(l),e.buttons[t].onClick&&e.buttons[t].onClick(l,a),e.onClick&&e.onClick(l,t)})}),p.openModal(l),l[0]},p.alert=function(e,t,a){return"function"==typeof t&&(a=arguments[1],t=void 0),p.modal({text:e||"",title:"undefined"==typeof t?p.params.modalTitle:t,buttons:[{text:p.params.modalButtonOk,bold:!0,onClick:a}]})},p.confirm=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),p.modal({text:e||"",title:"undefined"==typeof t?p.params.modalTitle:t,buttons:[{text:p.params.modalButtonCancel,onClick:n},{text:p.params.modalButtonOk,bold:!0,onClick:a}]})},p.prompt=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),p.modal({text:e||"",title:"undefined"==typeof t?p.params.modalTitle:t,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:p.params.modalButtonCancel},{text:p.params.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&n&&n(h(e).find(".modal-text-input").val()),1===t&&a&&a(h(e).find(".modal-text-input").val())}})},p.modalLogin=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),p.modal({text:e||"",title:"undefined"==typeof t?p.params.modalTitle:t,afterText:'<input type="text" name="modal-username" placeholder="'+p.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+p.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:p.params.modalButtonCancel},{text:p.params.modalButtonOk,bold:!0}],onClick:function(e,t){var i=h(e).find('.modal-text-input[name="modal-username"]').val(),o=h(e).find('.modal-text-input[name="modal-password"]').val();0===t&&n&&n(i,o),1===t&&a&&a(i,o)}})},p.modalPassword=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),p.modal({text:e||"",title:"undefined"==typeof t?p.params.modalTitle:t,afterText:'<input type="password" name="modal-password" placeholder="'+p.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:p.params.modalButtonCancel},{text:p.params.modalButtonOk,bold:!0}],onClick:function(e,t){var i=h(e).find('.modal-text-input[name="modal-password"]').val();0===t&&n&&n(i),1===t&&a&&a(i)}})},p.showPreloader=function(e){return p.modal({title:e||p.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},p.hidePreloader=function(){p.closeModal(".modal.modal-in")},p.showIndicator=function(){h("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white spinner"><svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/></path></svg></span></div>')},p.hideIndicator=function(){h(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},p.actions=function(e,t){var a=!1,n,i,o;1===arguments.length?t=e:p.device.ios?p.device.ipad&&(a=!0):h(window).width()>=768&&(a=!0),t=t||[],t.length>0&&!h.isArray(t[0])&&(t=[t]);var s;if(a){var r='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';p._compiledTemplates.actionsPopover||(p._compiledTemplates.actionsPopover=u.compile(r));var l=p._compiledTemplates.actionsPopover(t);n=h(p.popover(l,e,!0)),i=".list-block ul",o=".list-button"}else{if(p.params.modalActionsTemplate)p._compiledTemplates.actions||(p._compiledTemplates.actions=u.compile(p.params.modalActionsTemplate)),s=p._compiledTemplates.actions(t);else{for(var d="",c=0;c<t.length;c++)for(var f=0;f<t[c].length;f++){0===f&&(d+='<div class="actions-modal-group">');var m=t[c][f],v=m.label?"actions-modal-label":"actions-modal-button";m.bold&&(v+=" actions-modal-button-bold"),m.color&&(v+=" color-"+m.color),d+='<span class="'+v+'">'+m.text+"</span>",f===t[c].length-1&&(d+="</div>")}s='<div class="actions-modal">'+d+"</div>"}b.innerHTML=s,n=h(b).children(),h("body").append(n[0]),i=".actions-modal-group",o=".actions-modal-button"}var g=n.find(i);return g.each(function(e,i){var s=e;h(i).children().each(function(e,i){var r=e,l=t[s][r],d;!a&&h(i).is(o)&&(d=h(i)),a&&h(i).find(o).length>0&&(d=h(i).find(o)),d&&d.on("click",function(e){l.close!==!1&&p.closeModal(n),l.onClick&&l.onClick(n,e)})})}),a||p.openModal(n),n[0]},p.popover=function(e,t,a){function n(){e.css({left:"",top:""});var a=e.width(),n=e.height(),i=e.find(".popover-angle"),o=i.width()/2;i.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var s=t.outerWidth(),r=t.outerHeight(),l=t.offset(),d=t.parents(".page");d.length>0&&(l.top=l.top-d[0].scrollTop);var c=h(window).height(),p=h(window).width(),f=0,u=0,m=0,v="top";n+o<l.top?f=l.top-n-o:n+o<c-l.top-r?(v="bottom",f=l.top+r+o):(v="middle",f=r/2+l.top-n/2,m=f,0>f?f=5:f+n>c&&(f=c-n-5),m-=f),"top"===v||"bottom"===v?(u=s/2+l.left-a/2,m=u,5>u&&(u=5),u+a>p&&(u=p-a-5),"top"===v&&i.addClass("on-bottom"),"bottom"===v&&i.addClass("on-top"),m-=u,i.css({left:a/2-o+m+"px"})):"middle"===v&&(u=l.left-a-o,i.addClass("on-right"),5>u&&(u=l.left+s+o,i.removeClass("on-right").addClass("on-left")),u+a>p&&(u=p-a-5,i.removeClass("on-right").addClass("on-left")),i.css({top:n/2-o+m+"px"})),e.css({top:f+"px",left:u+"px"})}if("undefined"==typeof a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){var i=document.createElement("div");if(i.innerHTML=h.trim(e),!(i.childNodes.length>0))return!1;e=i.childNodes[0],a&&e.classList.add("remove-on-close"),h("body").append(e)}return e=h(e),t=h(t),0===e.length||0===t.length?!1:(0===e.find(".popover-angle").length&&e.append('<div class="popover-angle"></div>'),e.show(),n(),h(window).on("resize",n),e.on("close",function(){h(window).off("resize",n)}),e.find("."+p.params.viewClass).length>0&&p.sizeNavbars(e.find("."+p.params.viewClass)[0]),p.openModal(e),e[0])},p.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var a=document.createElement("div");if(a.innerHTML=h.trim(e),!(a.childNodes.length>0))return!1;e=a.childNodes[0],t&&e.classList.add("remove-on-close"),h("body").append(e)}return e=h(e),0===e.length?!1:(e.show(),e.find("."+p.params.viewClass).length>0&&p.sizeNavbars(e.find("."+p.params.viewClass)[0]),p.openModal(e),e[0])},p.loginScreen=function(e){return e||(e=".login-screen"),e=h(e),0===e.length?!1:(e.show(),e.find("."+p.params.viewClass).length>0&&p.sizeNavbars(e.find("."+p.params.viewClass)[0]),p.openModal(e),e[0])},p.openModal=function(e){e=h(e);var t=e.hasClass("popover"),a=e.hasClass("popup"),n=e.hasClass("login-screen");t||a||n||e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"});var i;n||(0!==h(".modal-overlay").length||a||h("body").append('<div class="modal-overlay"></div>'),0===h(".popup-overlay").length&&a&&h("body").append('<div class="popup-overlay"></div>'),i=h(a?".popup-overlay":".modal-overlay"));var o=e[0].clientLeft;return e.trigger("open"),n||i.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(t){e.trigger(e.hasClass("modal-out")?"closed":"opened")}),!0},p.closeModal=function(e){if(e=h(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("popover"),a=e.hasClass("popup"),n=e.hasClass("login-screen"),i=e.hasClass("remove-on-close"),o=h(a?".popup-overlay":".modal-overlay");return o.removeClass(a&&e.length===h(".popup.modal-in").length?"modal-overlay-visible":"modal-overlay-visible"),e.trigger("close"),t?(e.removeClass("modal-in modal-out").trigger("closed").hide(),i&&e.remove()):e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){e.trigger(e.hasClass("modal-out")?"closed":"opened"),a||n?(e.removeClass("modal-out").hide(),i&&e.length>0&&e.remove()):e.remove()}),!0}},p.allowPanelOpen=!0,p.openPanel=function(e){function t(){o.transitionEnd(function(e){h(e.target).is(o)?(a.trigger(a.hasClass("active")?"opened":"closed"),p.allowPanelOpen=!0):t()})}if(!p.allowPanelOpen)return!1;var a=h(".panel-"+e);if(0===a.length||a.hasClass("active"))return!1;p.closePanel(),p.allowPanelOpen=!1;var n=a.hasClass("panel-reveal")?"reveal":"cover";a.css({display:"block"}).addClass("active"),a.trigger("open"),a.find("."+p.params.viewClass).length>0&&p.sizeNavbars&&p.sizeNavbars(a.find("."+p.params.viewClass)[0]);var i=a[0].clientLeft,o="reveal"===n?h("."+p.params.viewsClass):a,s=!1;return t(),h("body").addClass("with-panel-"+e+"-"+n),!0},p.closePanel=function(){var e=h(".panel.active");if(0===e.length)return!1;var t=e.hasClass("panel-reveal")?"reveal":"cover",a=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var n="reveal"===t?h("."+p.params.viewsClass):e;e.trigger("close"),p.allowPanelOpen=!1,n.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed"),h("body").removeClass("panel-closing"),p.allowPanelOpen=!0)}),h("body").addClass("panel-closing").removeClass("with-panel-"+a+"-"+t)},p.initSwipePanels=function(){function e(e){if(p.allowPanelOpen&&p.params.swipePanel&&!o&&!(h(".modal-in, .photo-browser-in").length>0||!p.params.swipePanelCloseOpposite&&h(".panel.active").length>0&&!n.hasClass("active"))){if(l.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,l.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,p.params.swipePanelCloseOpposite&&(b=h(".panel.active").length>0?h(".panel.active").hasClass("panel-left")?"left":"right":p.params.swipePanel),n=h(".panel.panel-"+b),p.params.swipePanelActiveArea){if("left"===b&&l.x>p.params.swipePanelActiveArea)return;if("right"===b&&l.x<window.innerWidth-p.params.swipePanelActiveArea)return}s=!1,o=!0,r=void 0,d=(new Date).getTime(),g=void 0}}function t(e){if(o&&!e.f7PreventPanelSwipe){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof r&&(r=!!(r||Math.abs(a-l.y)>Math.abs(t-l.x))),r)return void(o=!1);if(!g&&(g=t>l.x?"to-right":"to-left","left"===b&&"to-left"===g&&!n.hasClass("active")||"right"===b&&"to-right"===g&&!n.hasClass("active")))return void(o=!1);if(p.params.swipePanelNoFollow){var h=(new Date).getTime()-d;return 300>h&&("to-left"===g&&("right"===b&&p.openPanel(b),"left"===b&&n.hasClass("active")&&p.closePanel()),"to-right"===g&&("left"===b&&p.openPanel(b),"right"===b&&n.hasClass("active")&&p.closePanel())),o=!1,void(s=!1)}s||(v=n.hasClass("panel-cover")?"cover":"reveal",n.show(),i.show(),u=n.hasClass("active"),m=n.width(),n.transition(0),n.find("."+p.params.viewClass).length>0&&p.sizeNavbars&&p.sizeNavbars(n.find("."+p.params.viewClass)[0])),s=!0,e.preventDefault();var C=u?0:-p.params.swipePanelThreshold;"right"===b&&(C=-C),c=t-l.x+C,"right"===b?(f=c-(u?m:0),f>0&&(f=0),-m>f&&(f=-m)):(f=c+(u?m:0),0>f&&(f=0),f>m&&(f=m)),"reveal"===v?(w.transform("translate3d("+f+"px,0,0)").transition(0),i.transform("translate3d("+f+"px,0,0)"),p.pluginHook("swipePanelSetTransform",w[0],n[0],Math.abs(f/m))):(n.transform("translate3d("+f+"px,0,0)").transition(0),p.pluginHook("swipePanelSetTransform",w[0],n[0],Math.abs(f/m)))}}function a(e){if(!o||!s)return o=!1,void(s=!1);o=!1,s=!1;var t=(new Date).getTime()-d,a,r=0===f||Math.abs(f)===m;if(a=u?f===-m?"reset":300>t&&Math.abs(f)>=0||t>=300&&Math.abs(f)<=m/2?"left"===b&&f===m?"reset":"swap":"reset":0===f?"reset":300>t&&Math.abs(f)>0||t>=300&&Math.abs(f)>=m/2?"swap":"reset","swap"===a&&(p.allowPanelOpen=!0,u?(p.closePanel(),r&&(n.css({display:""}),h("body").removeClass("panel-closing"))):p.openPanel(b),r&&(p.allowPanelOpen=!0)),"reset"===a)if(u)p.allowPanelOpen=!0,p.openPanel(b);else if(p.closePanel(),r)p.allowPanelOpen=!0,n.css({display:""});else{var l="reveal"===v?w:n;h("body").addClass("panel-closing"),l.transitionEnd(function(){p.allowPanelOpen=!0,n.css({display:""}),h("body").removeClass("panel-closing")})}"reveal"===v&&(w.transition(""),w.transform("")),n.transition("").transform(""),i.css({display:""}).transform("")}var n=h(".panel.panel-"+p.params.swipePanel);if(0!==n.length){var i=h(".panel-overlay"),o,s,r,l={},d,c,f,u,m,v,g,b,w=h("."+p.params.viewsClass);b=p.params.swipePanel,h(document).on(p.touchEvents.start,e),h(document).on(p.touchEvents.move,t),h(document).on(p.touchEvents.end,a)}},p.initMessages=function(e){var t=h(e),a=t.find(".messages");if(0!==a.length){var n=t.find(".page-content");a.hasClass("new-messages-first")||(n[0].scrollTop=a.height()-n.height()),p.updateMessagesAngles(a)}},p.addMessage=function(e){if(e=e||{},e.type=e.type||"sent",!e.text||0===e.length)return!1;var t=h(".messages-content");if(0===t.length)return!1;var a=t.find(".messages"),n=a.hasClass("new-messages-first"),i="";e.day&&(i+='<div class="messages-date">'+e.day+(e.time?",":"")+(e.time?" <span>"+e.time+"</span>":"")+"</div>");var o=e.text.indexOf("<img")>=0?"message-pic":"",s=e.avatar?"message-with-avatar":"",r="message message-"+e.type+" "+o+" "+s+" message-appear";i+='<div class="'+r+'">'+(e.name?'<div class="message-name">'+e.name+"</div>":"")+'<div class="message-text">'+e.text+"</div>"+(e.avatar?'<div class="message-avatar" style="background-image:url('+e.avatar+')"></div>':"")+"</div>",n?a.prepend(i):a.append(i),p.updateMessagesAngles(a),p.scrollMessagesContainer(t)},p.updateMessagesAngles=function(e){e.find(".message").each(function(){var e=h(this);e.find(".message-text img").length>0&&e.addClass("message-pic"),e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),e.find(".message-sent").each(function(){var e=h(this),t=e.next(".message-sent"),a=e.prev(".message-sent");0===t.length?e.addClass("message-last"):e.removeClass("message-last"),0===a.length?e.addClass("message-first"):e.removeClass("message-first"),a.length>0&&a.find(".message-name").length>0&&e.find(".message-name").length>0&&a.find(".message-name").text()!==e.find(".message-name").text()&&(a.addClass("message-last"),e.addClass("message-first"))}),e.find(".message-received").each(function(){var e=h(this),t=e.next(".message-received"),a=e.prev(".message-received");0===t.length?e.addClass("message-last"):e.removeClass("message-last"),0===a.length?e.addClass("message-first"):e.removeClass("message-first"),a.length>0&&a.find(".message-name").length>0&&e.find(".message-name").length>0&&a.find(".message-name").text()!==e.find(".message-name").text()&&(a.addClass("message-last"),e.addClass("message-first"))})},p.scrollMessagesContainer=function(e){if(e=h(e||".messages-content"),0!==e.length){var t=e.find(".messages"),a=t.hasClass("new-messages-first"),n=e[0].scrollTop,i=a?0:t.height()-e.height();i!==n&&e.scrollTop(i,300)}},p.swipeoutOpenedEl=void 0,p.allowSwipeout=!0,p.initSwipeout=function(e){function t(e){p.allowSwipeout&&(o=!1,i=!0,s=void 0,r.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,l=(new Date).getTime())}function a(e){if(i){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof s&&(s=!!(s||Math.abs(a-r.y)>Math.abs(t-r.x))),s)return void(i=!1);if(!o){if(h(".list-block.sortable-opened").length>0)return;c=h(this),f=c.find(".swipeout-content"),u=c.find(".swipeout-actions-right"),m=c.find(".swipeout-actions-left"),v=g=x=y=S=k=null,m.length>0&&(v=m.width(),x=m.children("a"),k=m.find(".swipeout-overswipe")),u.length>0&&(g=u.width(),y=u.children("a"),S=u.find(".swipeout-overswipe")),w=c.hasClass("swipeout-opened"),w&&(C=c.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),c.removeClass("transitioning"),p.params.swipeoutNoFollow||(c.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),c.removeClass("swipeout-opened"))}if(o=!0,e.preventDefault(),d=t-r.x,b=d,w&&("right"===C?b-=g:b+=v),b>0&&0===m.length||0>b&&0===u.length){if(!w)return void(i=o=!1);b=0}T=0>b?"to-left":b>0?"to-right":T?T:"to-left";var n,l,E;if(e.f7PreventPanelSwipe=!0,p.params.swipeoutNoFollow)return w?("right"===C&&d>0&&p.swipeoutClose(c),"left"===C&&0>d&&p.swipeoutClose(c)):(0>d&&u.length>0&&p.swipeoutOpen(c,"right"),d>0&&m.length>0&&p.swipeoutOpen(c,"left")),i=!1,void(o=!1);P=!1,O=!1;var M;if(u.length>0)for(E=b/g,-g>b&&(b=-g-Math.pow(-b-g,.8),S.length>0&&(O=!0)),n=0;n<y.length;n++)"undefined"==typeof y[n]._buttonOffset&&(y[n]._buttonOffset=y[n].offsetLeft),l=y[n]._buttonOffset,M=h(y[n]),S.length>0&&M.hasClass("swipeout-overswipe")&&M.css({left:(O?-l:0)+"px"}),M.transform("translate3d("+(b-l*(1+Math.max(E,-1)))+"px,0,0)");if(m.length>0)for(E=b/v,b>v&&(b=v+Math.pow(b-v,.8),k.length>0&&(P=!0)),n=0;n<x.length;n++)"undefined"==typeof x[n]._buttonOffset&&(x[n]._buttonOffset=v-x[n].offsetLeft-x[n].offsetWidth),l=x[n]._buttonOffset,M=h(x[n]),k.length>0&&M.hasClass("swipeout-overswipe")&&M.css({left:(P?l:0)+"px"}),M.css("z-index",x.length-n).transform("translate3d("+(b+l*(1-Math.min(E,1)))+"px,0,0)");f.transform("translate3d("+b+"px,0,0)")}}function n(e){if(!i||!o)return i=!1,void(o=!1);i=!1,o=!1;var t=(new Date).getTime()-l,a,n,s,r,C;if(s="to-left"===T?u:m,n="to-left"===T?g:v,a=300>t&&(-10>d&&"to-left"===T||d>10&&"to-right"===T)||t>=300&&Math.abs(b)>n/2?"open":"close",300>t&&(0===Math.abs(b)&&(a="close"),Math.abs(b)===n&&(a="open")),"open"===a){p.swipeoutOpenedEl=c,c.trigger("open"),c.addClass("swipeout-opened transitioning");var k="to-left"===T?-n:n;if(f.transform("translate3d("+k+"px,0,0)"),s.addClass("swipeout-actions-opened"),r="to-left"===T?y:x)for(C=0;C<r.length;C++)h(r[C]).transform("translate3d("+k+"px,0,0)");O&&u.find(".swipeout-overswipe")[0].click(),P&&m.find(".swipeout-overswipe")[0].click()}else c.trigger("close"),p.swipeoutOpenedEl=void 0,c.addClass("transitioning").removeClass("swipeout-opened"),f.transform(""),s.removeClass("swipeout-actions-opened");var S;if(x&&x.length>0&&x!==r)for(C=0;C<x.length;C++)S=x[C]._buttonOffset,"undefined"==typeof S&&(x[C]._buttonOffset=v-x[C].offsetLeft-x[C].offsetWidth),h(x[C]).transform("translate3d("+S+"px,0,0)");if(y&&y.length>0&&y!==r)for(C=0;C<y.length;C++)S=y[C]._buttonOffset,"undefined"==typeof S&&(y[C]._buttonOffset=y[C].offsetLeft),h(y[C]).transform("translate3d("+-S+"px,0,0)");f.transitionEnd(function(e){w&&"open"===a||closed&&"close"===a||(c.trigger("open"===a?"opened":"closed"),w&&"close"===a&&(u.length>0&&y.transform(""),m.length>0&&x.transform("")))})}var i,o,s,r={},l,d,c,f,u,m,v,g,b,w,C,x,y,T,k,S,P,O;h(document).on(p.touchEvents.start,function(e){if(p.swipeoutOpenedEl){var t=h(e.target);p.swipeoutOpenedEl.is(t[0])||t.parents(".swipeout").is(p.swipeoutOpenedEl)||t.hasClass("modal-in")||t.parents(".modal-in").length>0||t.hasClass("modal-overlay")||p.swipeoutClose(p.swipeoutOpenedEl)}}),e?(h(e).on(p.touchEvents.start,t),h(e).on(p.touchEvents.move,a),h(e).on(p.touchEvents.end,n)):(h(document).on(p.touchEvents.start,".list-block li.swipeout",t),h(document).on(p.touchEvents.move,".list-block li.swipeout",a),h(document).on(p.touchEvents.end,".list-block li.swipeout",n))},p.swipeoutOpen=function(e,t){if(e=h(e),0!==e.length&&(e.length>1&&(e=h(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){t||(t=e.find(".swipeout-actions-right").length>0?"right":"left");var a=e.find(".swipeout-actions-"+t);if(0!==a.length){e.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),a.addClass("swipeout-actions-opened");var n=a.children("a"),i=a.width(),o="right"===t?-i:i,s;if(n.length>1){for(s=0;s<n.length;s++)"right"===t?h(n[s]).transform("translate3d("+-n[s].offsetLeft+"px,0,0)"):h(n[s]).css("z-index",n.length-s).transform("translate3d("+(i-n[s].offsetWidth-n[s].offsetLeft)+"px,0,0)");var r=n[1].clientLeft}for(e.addClass("transitioning"),s=0;s<n.length;s++)h(n[s]).transform("translate3d("+o+"px,0,0");e.find(".swipeout-content").transform("translate3d("+o+"px,0,0)").transitionEnd(function(){e.trigger("opened")}),p.swipeoutOpenedEl=e}}},p.swipeoutClose=function(e){if(e=h(e),0!==e.length&&e.hasClass("swipeout-opened")){var t=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",a=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),n=a.children("a"),i=a.width();p.allowSwipeout=!1,e.trigger("close"),e.removeClass("swipeout-opened").addClass("transitioning"),e.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){e.trigger("closed"),n.transform(""),p.allowSwipeout=!0});for(var o=0;o<n.length;o++)h(n[o]).transform("right"===t?"translate3d("+-n[o].offsetLeft+"px,0,0)":"translate3d("+(i-n[o].offsetWidth-n[o].offsetLeft)+"px,0,0)"),h(n[o]).css({left:"0px"});p.swipeoutOpenedEl&&p.swipeoutOpenedEl[0]===e[0]&&(p.swipeoutOpenedEl=void 0)}},p.swipeoutDelete=function(e){if(e=h(e),0!==e.length){e.length>1&&(e=h(e[0])),p.swipeoutOpenedEl=void 0,e.trigger("delete"),e.css({height:e.outerHeight()+"px"});var t=e[0].clientLeft;e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){e.trigger("deleted"),e.remove()});var a="-100%";e.find(".swipeout-content").transform("translate3d("+a+",0,0)")}},p.sortableToggle=function(e){return e=h(e),0===e.length&&(e=h(".list-block.sortable")),e.toggleClass("sortable-opened"),e.trigger(e.hasClass("sortable-opened")?"open":"close"),e},p.sortableOpen=function(e){return e=h(e),0===e.length&&(e=h(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open"),e},p.sortableClose=function(e){return e=h(e),0===e.length&&(e=h(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close"),e},p.initSortable=function(){function e(e){i=!1,n=!0,o="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,r=h(this).parent(),l=r.parent().find("li"),m=r.parents(".sortable"),e.preventDefault(),p.allowsPanelOpen=p.allowSwipeout=!1}function t(e){if(n&&r){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;i||(r.addClass("sorting"),m.addClass("sortable-sorting"),d=r[0].offsetTop,c=r.parent().height()-r[0].offsetTop-r.height()),i=!0,e.preventDefault(),e.f7PreventPanelSwipe=!0,s=a-o;var p=s;-d>p&&(p=-d),p>c&&(p=c),r.transform("translate3d(0,"+p+"px,0)"),u=f=void 0,l.each(function(){var e=h(this);if(e[0]!==r[0]){var t=e[0].offsetTop,a=e.height(),n=r[0].offsetTop+p;n>=t-a/2&&r.index()<e.index()?(e.transform("translate3d(0,-100%,0)"),f=e,u=void 0):t+a/2>=n&&r.index()>e.index()?(h(this).transform("translate3d(0,100%,0)"),f=void 0,u||(u=e)):h(this).transform("translate3d(0, 0%,0)")}})}}function a(e){return p.allowsPanelOpen=p.allowSwipeout=!0,n&&i?(e.preventDefault(),l.transform(""),r.removeClass("sorting"),m.removeClass("sortable-sorting"),f&&(r.insertAfter(f),r.trigger("sort")),u&&(r.insertBefore(u),r.trigger("sort")),f=u=void 0,n=!1,void(i=!1)):(n=!1,void(i=!1))}var n,i,o,s,r,l,d,c,f,u,m;h(document).on(p.touchEvents.start,".list-block.sortable .sortable-handler",e),p.support.touch?(h(document).on(p.touchEvents.move,".list-block.sortable .sortable-handler",t),h(document).on(p.touchEvents.end,".list-block.sortable .sortable-handler",a)):(h(document).on(p.touchEvents.move,t),h(document).on(p.touchEvents.end,a))},p.initSmartSelects=function(e){var t=h(e);if(0!==t.length){var a=t.find(".smart-select");0!==a.length&&a.each(function(){var e=h(this),t=e.find("select");if(0!==t.length){var a=t[0];if(0!==a.length){for(var n=[],i=0;i<a.length;i++)a[i].selected&&n.push(a[i].textContent.trim());var o=e.find(".item-after");0===o.length?e.find(".item-inner").append('<div class="item-after">'+n.join(", ")+"</div>"):o.text(n)}}})}},p.smartSelectOpen=function(e){function t(o){var s=o.detail.page;s.name===T&&(h(document).off("pageInit",t),h(s.container).find('input[name="'+m+'"]').on("change",function(){var t=this,o=t.value,s=[];if("checkbox"===t.type)for(var r=[],l=0;l<n.options.length;l++){var d=n.options[l];d.value===o&&(d.selected=t.checked),d.selected&&s.push(d.textContent.trim())}else s=[e.find('option[value="'+o+'"]').text()],n.value=o;i.trigger("change"),e.find(".item-after").text(s.join(", ")),c&&"radio"===u&&a.goBack()}))}if(e=h(e),0!==e.length){var a=e.parents("."+p.params.viewClass);if(0!==a.length&&(a=a[0].f7View)){var n=e.find("select")[0],i=h(n);if(!(n.disabled||e.hasClass("disabled")||i.hasClass("disabled"))){var o={};o.length=n.length;for(var s,r=0;r<n.length;r++)s=h(n[r]),o[r]={value:n[r].value,text:n[r].textContent.trim(),selected:n[r].selected,group:s.parent("optgroup")[0],image:s.attr("data-option-image")||i.attr("data-option-image"),icon:s.attr("data-option-icon")||i.attr("data-option-icon"),disabled:n[r].disabled};for(var l=e.attr("data-page-title")||e.find(".item-title").text(),d=e.attr("data-back-text")||p.params.smartSelectBackText,c=e.attr("data-back-onselect")?"true"===e.attr("data-back-onselect")?!0:!1:p.params.smartSelectBackOnSelect,f=(new Date).getTime(),u=n.multiple?"checkbox":"radio",m=u+"-"+f,v="",g,b=0;b<o.length;b++)if(!o[b].disabled){var w=o[b].selected?"checked":"";o[b].group&&o[b].group!==g&&(v+='<li class="item-divider">'+o[b].group.label+"</li>",g=o[b].group);var C="";"checkbox"===u&&(C+='<i class="icon icon-form-checkbox"></i>'),o[b].icon&&(C+='<i class="icon '+o[b].icon+'"></i>'),o[b].image&&(C+='<img src="'+o[b].image+'">'),v+='<li><label class="label-'+u+' item-content"><input type="'+u+'" name="'+m+'" value="'+o[b].value+'" '+w+">"+(""!==C?'<div class="item-media">'+C+"</div>":"")+'<div class="item-inner"><div class="item-title">'+o[b].text+"</div></div></label></li>"}var x='<div class="navbar">  <div class="navbar-inner">'+p.params.smartSelectBackTemplate.replace(/{{backText}}/g,d)+'    <div class="center sliding">'+l+"</div>  </div></div>",y="static";e.parents(".navbar-through").length>0&&(y="through"),e.parents(".navbar-fixed").length>0&&(y="fixed");var T="smart-select-"+m,k=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",S=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+y,P="undefined"==typeof e.data("searchbar")?p.params.smartSelectSearchbar:"true"===e.data("searchbar")?!0:!1,O,E;P&&(O=e.data("searchbar-placeholder")||"Search",E=e.data("searchbar-cancel")||"Cancel");var M='<form class="searchbar" data-search-list=".smart-select-list-'+f+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+O+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+E+'</a></form><div class="searchbar-overlay"></div>',B=("through"===y?x:"")+'<div class="pages">  <div data-page="'+T+'" class="page smart-select-page '+S+" "+k+'">'+("fixed"===y?x:"")+(P?M:"")+'    <div class="page-content">'+("static"===y?x:"")+'      <div class="list-block smart-select-list-'+f+'">        <ul>'+v+"        </ul>      </div>    </div>  </div></div>";h(document).on("pageInit",t),a.loadContent(B)}}}},p.initPullToRefresh=function(e){function t(e){if(s){if("android"!==p.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}r=!1,s=!0,d=void 0,C=void 0,l.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,l.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,f=(new Date).getTime(),u=h(this)}function a(e){if(s){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof d&&(d=!!(d||Math.abs(a-l.y)>Math.abs(t-l.x))),!d)return void(s=!1);if(w=u[0].scrollTop,"undefined"==typeof C&&0!==w&&(C=!0),!r){if(u.removeClass("transitioning"),w>u[0].offsetHeight)return void(s=!1);g=u.hasClass("refreshing")?44:0,v=u[0].scrollHeight===u[0].offsetHeight||"ios"!==p.device.os?!0:!1}return r=!0,c=a-l.y,c>0&&0>=w||0>w?("ios"===p.device.os&&parseInt(p.device.osVersion.split(".")[0],10)>7&&0===w&&!C&&(v=!0),v&&(e.preventDefault(),b=Math.pow(c,.85)+g,u.transform("translate3d(0,"+b+"px,0)")),v&&Math.pow(c,.85)>44||!v&&c>=88?(m=!0,u.addClass("pull-up").removeClass("pull-down")):(m=!1,u.removeClass("pull-up").addClass("pull-down")),void 0):(u.removeClass("pull-up pull-down"),void(m=!1))}}function n(e){return s&&r?(b&&(u.addClass("transitioning"),b=0),u.transform(""),m?(u.addClass("refreshing"),u.trigger("refresh",{done:function(){p.pullToRefreshDone(u)}})):u.removeClass("pull-down"),s=!1,void(r=!1)):(s=!1,void(r=!1))}function i(){o.off(p.touchEvents.start,t),o.off(p.touchEvents.move,a),o.off(p.touchEvents.end,n),x.off("pageBeforeRemove",i)}var o=h(e);if(o.hasClass("pull-to-refresh-content")||(o=o.find(".pull-to-refresh-content")),0!==o.length){var s,r,l={},d,c,f,u,m=!1,v=!1,g=0,b,w,C;u=o,o.on(p.touchEvents.start,t),o.on(p.touchEvents.move,a),o.on(p.touchEvents.end,n);var x=o.hasClass("page")?o:o.parents(".page");0!==x.length&&x.on("pageBeforeRemove",i)}},p.pullToRefreshDone=function(e){e=h(e),0===e.length&&(e=h(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down")})},p.pullToRefreshTrigger=function(e){e=h(e),0===e.length&&(e=h(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh",{done:function(){p.pullToRefreshDone(e)}}))},p.attachInfiniteScroll=function(e){h(e).on("scroll",d)},p.detachInfiniteScroll=function(e){h(e).off("scroll",d)},p.initInfiniteScroll=function(e){function t(){p.detachInfiniteScroll(a),e.off("pageBeforeRemove",t)}e=h(e);var a=e.find(".infinite-scroll");p.attachInfiniteScroll(a),e.on("pageBeforeRemove",t)},p.showTab=function(e,t){var a=h(e);if(a.hasClass("active"))return!1;if(0===a.length)return!1;var n=a.parent(".tabs");if(0===n.length)return!1;p.allowSwipeout=!0;var i=n.parent().hasClass("tabs-animated-wrap");i&&n.transform("translate3d("+100*-a.index()+"%,0,0)");var o=n.children(".tab.active").removeClass("active");if(a.addClass("active"),a.trigger("show"),!i&&a.find(".navbar").length>0){var s;s=a.hasClass(p.params.viewClass)?a[0]:a.parents("."+p.params.viewClass)[0],p.sizeNavbars(s)}if(t?t=h(t):(t=h("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+a.attr("id")+'"]'),0===t.length&&h("[data-tab]").each(function(){a.is(h(this).attr("data-tab"))&&(t=h(this))})),0!==t.length){var r;if(o&&o.length>0){var l=o.attr("id");l&&(r=h('.tab-link[href="#'+l+'"]')),0===r.length&&h("[data-tab]").each(function(){o.is(h(this).attr("data-tab"))&&(r=h(this))})}return t&&t.length>0&&t.addClass("active"),r&&r.length>0&&r.removeClass("active"),!0}},p.accordionToggle=function(e){e=h(e),0!==e.length&&(e.hasClass("accordion-item-expanded")?p.accordionClose(e):p.accordionOpen(e))},p.accordionOpen=function(e){e=h(e);var t=e.parents(".accordion-list"),a=e.find(".accordion-item-content"),n=t.find(".accordion-item-expanded");n.length>0&&p.accordionClose(n),a.css("height",a[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){a.transition(0),a.css("height","auto");var t=a[0].clientLeft;a.transition(""),e.trigger("opened")}else a.css("height",""),e.trigger("closed")}),e.trigger("open"),e.addClass("accordion-item-expanded")},p.accordionClose=function(e){e=h(e);
var t=e.find(".accordion-item-content");e.removeClass("accordion-item-expanded"),t.transition(0),t.css("height",t[0].scrollHeight+"px");var a=t[0].clientLeft;t.transition(""),t.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){t.transition(0),t.css("height","auto");var a=t[0].clientLeft;t.transition(""),e.trigger("opened")}else t.css("height",""),e.trigger("closed")}),e.trigger("close")},p.initFastClicks=function(){function e(e){var t=h(e.target),a=t.parents(p.params.activeStateElements);return a.length>0?a:t}function t(){var e=O.parents(".page-content, .panel");return 0===e.length?!1:("yes"!==e.prop("scrollHandlerSet")&&(e.on("scroll",function(){clearTimeout(E)}),e.prop("scrollHandlerSet","yes")),!0)}function a(){O.addClass("active-state")}function n(e){O.removeClass("active-state")}function i(e){var t="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&e!==document.activeElement&&document.activeElement!==document.body?t.indexOf(e.nodeName.toLowerCase())>=0?!1:!0:!1}function o(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type?!1:e.className.indexOf("no-fastclick")>=0?!1:!0}function s(e){if(document.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),a="button checkbox file image radio submit".split(" ");return e.disabled||e.readOnly?!1:"textarea"===t?!0:"select"===t?"android"===p.device.os?!1:!0:"input"===t&&a.indexOf(e.type)<0?!0:void 0}function r(e){if(e=h(e),e.is("label")||e.parents("label").length>0){if("android"===p.device.os){var t=p.device.osVersion.split(".");return 1*t[0]>4||1*t[0]===4&&1*t[1]>=4?!1:!0}return!1}return!0}function l(t){e(t).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){h(".active-state").removeClass("active-state")},0)}function d(e){h(".active-state").removeClass("active-state")}function c(e){h(".active-state").removeClass("active-state")}function f(n){if(P=!1,n.targetTouches.length>1)return!0;if(M=o(n.target),!M)return y=!1,!0;if("ios"===p.device.os){var s=window.getSelection();if(s.rangeCount&&(!s.isCollapsed||document.activeElement===s.focusNode))return T=!0,!0;T=!1}"android"===p.device.os&&i(n.target)&&document.activeElement.blur(),y=!0,x=n.target,C=(new Date).getTime(),b=n.targetTouches[0].pageX,w=n.targetTouches[0].pageY,"ios"===p.device.os&&(k=void 0,h(x).parents().each(function(){var e=this;e.scrollHeight>e.offsetHeight&&!k&&(k=e,k.f7ScrollTop=k.scrollTop)})),n.timeStamp-S<200&&n.preventDefault(),p.params.activeState&&(O=e(n),t(n)?E=setTimeout(a,80):a())}function u(e){if(y){var t=!1,a=p.params.fastClicksDistanceThreshold;if(a){var i=e.targetTouches[0].pageX,o=e.targetTouches[0].pageY;(Math.abs(i-b)>a||Math.abs(o-w)>a)&&(t=!0)}else t=!0;t&&(y=!1,x=null,P=!0),p.params.activeState&&(clearTimeout(E),n())}}function m(e){if(clearTimeout(E),!y)return!T&&M&&e.preventDefault(),!0;if(document.activeElement===e.target)return!0;if(T||e.preventDefault(),e.timeStamp-S<200)return!0;if(S=e.timeStamp,C=0,y=!1,"ios"===p.device.os&&k&&k.scrollTop!==k.f7ScrollTop)return!1;p.params.activeState&&(a(),setTimeout(n,0)),s(x)&&x.focus(),e.preventDefault();var t=e.changedTouches[0],i=document.createEvent("MouseEvents"),o="click";return"android"===p.device.os&&"select"===x.nodeName.toLowerCase()&&(o="mousedown"),i.initMouseEvent(o,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,x.dispatchEvent(i),!1}function v(e){y=!1,x=null}function g(e){var t=!1;return y?(x=null,y=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(x||(t=!0),document.activeElement===x&&(t=!0),e.forwardedTouchEvent&&(t=!0),e.cancelable||(t=!0),t||(e.stopImmediatePropagation(),e.stopPropagation(),x?(r(x)||P)&&e.preventDefault():e.preventDefault(),x=null),t)}p.params.activeState&&h("html").addClass("watch-active-state");var b,w,C,x,y,T,k,S,P,O,E,M;p.support.touch?(document.addEventListener("click",g,!0),p.addGlobalEventListener("touchstart",f),p.addGlobalEventListener("touchmove",u),p.addGlobalEventListener("touchend",m),p.addGlobalEventListener("touchcancel",v)):p.params.activeState&&(p.addGlobalEventListener("mousedown",l),p.addGlobalEventListener("mousemove",d),p.addGlobalEventListener("mouseup",c))},p.initClickEvents=function(){function e(e){function t(e){return"false"===e?!1:"true"===e?!0:void 0}var a=h(this),n=a.attr("href"),i="a"===a[0].nodeName.toLowerCase();if(i)for(var o=0;o<p.params.externalLinks.length;o++){if(a.hasClass(p.params.externalLinks[o]))return;if(a[0].rel===p.params.externalLinks[o])return}if(a.hasClass("smart-select")&&p.smartSelectOpen&&p.smartSelectOpen(a),a.hasClass("open-panel")&&p.openPanel(1===h(".panel").length?h(".panel").hasClass("panel-left")?"left":"right":"right"===a.attr("data-panel")?"right":"left"),a.hasClass("close-panel")&&p.closePanel(),a.hasClass("panel-overlay")&&p.params.panelsCloseByOutside&&p.closePanel(),a.hasClass("open-popover")){var s;s=a.attr("data-popover")?a.attr("data-popover"):".popover",p.popover(s,a)}a.hasClass("close-popover")&&p.closeModal(".popover.modal-in");var r;a.hasClass("open-popup")&&(r=a.attr("data-popup")?a.attr("data-popup"):".popup",p.popup(r)),a.hasClass("close-popup")&&(r=a.attr("data-popup")?a.attr("data-popup"):".popup.modal-in",p.closeModal(r));var l;if(a.hasClass("open-login-screen")&&(l=a.attr("data-login-screen")?a.attr("data-login-screen"):".login-screen",p.loginScreen(l)),a.hasClass("close-login-screen")&&p.closeModal(".login-screen.modal-in"),a.hasClass("modal-overlay")&&(h(".modal.modal-in").length>0&&p.params.modalCloseByOutside&&p.closeModal(".modal.modal-in"),h(".actions-modal.modal-in").length>0&&p.params.actionsCloseByOutside&&p.closeModal(".actions-modal.modal-in"),h(".popover.modal-in").length>0&&p.closeModal(".popover.modal-in")),a.hasClass("popup-overlay")&&h(".popup.modal-in").length>0&&p.params.popupCloseByOutside&&p.closeModal(".popup.modal-in"),a.hasClass("tab-link")&&p.showTab(a.attr("data-tab")||a.attr("href"),a),a.hasClass("swipeout-delete"))if(a.attr("data-confirm")){var d=a.attr("data-confirm"),c=a.attr("data-confirm-title");c?p.confirm(d,c,function(){p.swipeoutDelete(a.parents(".swipeout"))}):p.confirm(d,function(){p.swipeoutDelete(a.parents(".swipeout"))})}else p.swipeoutDelete(a.parents(".swipeout"));if(a.hasClass("toggle-sortable")&&p.sortableToggle(a.data("sortable")),a.hasClass("open-sortable")&&p.sortableOpen(a.data("sortable")),a.hasClass("close-sortable")&&p.sortableClose(a.data("sortable")),a.hasClass("accordion-item-toggle")||a.hasClass("item-link")&&a.parent().hasClass("accordion-item")){var f=a.parents(".accordion-item");0===f.length&&(f=a.parents("li")),p.accordionToggle(f)}if((!p.params.ajaxLinks||a.is(p.params.ajaxLinks))&&i){i&&e.preventDefault();var u=n&&n.length>0&&0!==n.indexOf("#");if(u||a.hasClass("back")){var m;if(a.attr("data-view")?m=h(a.attr("data-view"))[0].f7View:(m=a.parents("."+p.params.viewClass)[0]&&a.parents("."+p.params.viewClass)[0].f7View,m&&m.params.linksView&&(m=h(m.params.linksView)[0].f7View)),!m)for(var o=0;o<p.views.length;o++)p.views[o].main&&(m=p.views[o]);if(!m)return;var v;a.attr("data-animatePages")?v=t(a.attr("data-animatePages")):(a.hasClass("with-animation")&&(v=!0),a.hasClass("no-animation")&&(v=!1));var g={animatePages:v,ignoreCache:t(a.attr("data-ignoreCache")),forceUrl:t(a.attr("data-forceUrl")),reload:t(a.attr("data-reload")),reloadPrevious:t(a.attr("data-reloadPrevious")),url:a.attr("href")};a.hasClass("back")?m.goBack(g):m.loadPage(g)}}}h(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",e)},p.initResize=function(){h(window).on("resize",p.resize),h(window).on("orientationchange",p.orientationchange)},p.resize=function(){p.sizeNavbars&&p.sizeNavbars(),c()},p.orientationchange=function(){p.device&&p.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),c()},p.formsData={},p.formStoreData=function(e,t){p.formsData[e]=t,p.ls["f7form-"+e]=JSON.stringify(t)},p.formDeleteData=function(e){p.formsData[e]&&(p.formsData[e]="",delete p.formsData[e]),p.ls["f7form-"+e]&&(p.ls["f7form-"+e]="",p.ls.removeItem("f7form-"+e))},p.formGetData=function(e){return p.ls["f7form-"+e]?JSON.parse(p.ls["f7form-"+e]):p.formsData[e]?p.formsData[e]:void 0},p.formToJSON=function(e){if(e=h(e),1!==e.length)return!1;var t={},a=["submit","image","button","file"],n=[];return e.find("input, select, textarea").each(function(){var i=h(this),o=i.attr("name"),s=i.attr("type"),r=this.nodeName.toLowerCase();if(!(a.indexOf(s)>=0||n.indexOf(o)>=0||!o))if("select"===r&&i.attr("multiple"))n.push(o),t[o]=[],e.find('select[name="'+o+'"] option').each(function(){this.selected&&t[o].push(this.value)});else switch(s){case"checkbox":n.push(o),t[o]=[],e.find('input[name="'+o+'"]').each(function(){this.checked&&t[o].push(this.value)});break;case"radio":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked&&(t[o]=this.value)});break;default:t[o]=i.val()}}),t},p.formFromJSON=function(e,t){if(e=h(e),1!==e.length)return!1;var a=["submit","image","button","file"],n=[];e.find("input, select, textarea").each(function(){var i=h(this),o=i.attr("name"),s=i.attr("type"),r=this.nodeName.toLowerCase();if(t[o]&&!(a.indexOf(s)>=0||n.indexOf(o)>=0||!o))if("select"===r&&i.attr("multiple"))n.push(o),e.find('select[name="'+o+'"] option').each(function(){this.selected=t[o].indexOf(this.value)>=0?!0:!1});else switch(s){case"checkbox":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked=t[o].indexOf(this.value)>=0?!0:!1});break;case"radio":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked=t[o]===this.value?!0:!1});break;default:i.val(t[o])}})},p.initFormsStorage=function(e){function t(){var e=h(this),t=e[0].id;if(t){var a=p.formToJSON(e);a&&(p.formStoreData(t,a),e.trigger("store",{data:a}))}}function a(){n.off("change submit",t),e.off("pageBeforeRemove",a)}if(e=h(e),0!==e.length){var n=e.find("form.store-data");0!==n.length&&(n.each(function(){var e=this.getAttribute("id");if(e){var t=p.formGetData(e);t&&p.formFromJSON(this,t)}}),n.on("change submit",t),e.on("pageBeforeRemove",a))}},h(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var t=h(this);if("change"!==e.type||t.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault();var a=t.attr("method")||"GET",n=t.attr("enctype"),i=t.attr("action");if(i){var o;o="POST"===a?new FormData(t[0]):h.serializeObject(p.formToJSON(t[0]));var s=h.ajax({method:a,url:i,contentType:n,data:o,success:function(e){t.trigger("submitted",{data:e,xhr:s})}})}}}),p.pushStateQueue=[],p.pushStateClearQueue=function(){if(0!==p.pushStateQueue.length){var e=p.pushStateQueue.pop(),t;p.params.pushStateNoAnimation===!0&&(t=!1),"goBack"===e.action&&p.goBack(e.view,{animatePages:t}),"loadPage"===e.action&&p.loadPage(e.view,{url:e.stateUrl,animatePages:t,pushState:!1}),"loadContent"===e.action&&p.loadPage(e.view,{content:e.stateContent,animatePages:t,pushState:!1})}},p.initPushState=function(){function e(e){if(!t){for(var a,n=0;n<p.views.length;n++)p.views[n].main&&(a=p.views[n]);if(a){var i=e.state;i||(i={url:a.history[0]});var o=i&&i.url||void 0,s=i&&i.content||void 0,r;p.params.pushStateNoAnimation===!0&&(r=!1),o!==a.url&&(a.history.indexOf(o)>=0?a.allowPageChange?p.goBack(a,{url:void 0,animatePages:r,pushState:!1,preloadOnly:!1}):p.pushStateQueue.push({action:"goBack",view:a}):o&&!s?a.allowPageChange?p.loadPage(a,{url:o,animatePages:r,pushState:!1}):p.pushStateQueue.unshift({action:"loadPage",stateUrl:o,view:a}):s&&(a.allowPageChange?p.loadPage(a,{content:s,animatePages:r,pushState:!1}):p.pushStateQueue.unshift({action:"loadContent",stateContent:s,view:a})))}}}var t=!0;h(window).on("load",function(){setTimeout(function(){t=!1},0)}),h(window).on("popstate",e)};var w=function(e,t){var a={initialSlide:0,spaceBetween:0,speed:300,slidesPerView:1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};t=t||{};for(var n in a)"undefined"==typeof t[n]&&(t[n]=a[n]);var i=this;if(i.params=t,i.container=h(e),0!==i.container.length){i.container[0].f7Slider=i,i.container.addClass("vertical"===i.params.direction?"slider-container-vertical":"slider-container-horizontal"),i.wrapper=i.container.children("."+i.params.wrapperClass),i.params.pagination&&(i.paginationContainer=h(i.params.pagination)),i.activeSlideIndex=i.previousSlideIndex=i.params.initialSlide||0;var o="horizontal"===i.params.direction,s=o&&p.rtl?-1:1;i.updateSlides=function(){if(i.slides=i.wrapper.children("."+i.params.slideClass),0!==i.params.spaceBetween){var e=p.rtl?"marginLeft":"marginRight";o?i.slides.css(e,i.params.spaceBetween+"px"):i.slides.css({marginBottom:i.params.spaceBetween+"px"})}if(i.params.slidesPerView>1){var a="(100% - "+(i.params.slidesPerView-1)*t.spaceBetween+"px)/"+i.params.slidesPerView;o?(i.slides.css("width","-webkit-calc("+a+")"),i.slides.css("width","-moz-calc("+a+")"),i.slides.css("width","calc("+a+")")):(i.slides.css("height","-webkit-calc("+a+")"),i.slides.css("height","-moz-calc("+a+")"),i.slides.css("height","calc("+a+")"))}},i.updatePagination=function(){if(i.paginationContainer&&i.paginationContainer.length>0){for(var e="",t=0;t<i.slides.length-i.params.slidesPerView+1;t++)e+='<span class="'+i.params.bulletClass+'"></span>';i.paginationContainer.html(e),i.bullets=i.paginationContainer.find("."+i.params.bulletClass)}},i.updateSize=function(){i.width=i.container[0].offsetWidth,i.height=i.container[0].offsetHeight,i.size=o?i.width:i.height},i.attachEvents=function(e){var t=e?"off":"on";i.container[t](p.touchEvents.start,i.onTouchStart),i.container[t](p.touchEvents.move,i.onTouchMove),i.container[t](p.touchEvents.end,i.onTouchEnd),h(window)[t]("resize",i.onResize),i.params.nextButton&&h(i.params.nextButton)[t]("click",i.onClickNext),i.params.prevButton&&h(i.params.prevButton)[t]("click",i.onClickPrev),i.params.indexButton&&h(i.params.indexButton)[t]("click",i.onClickIndex),(i.params.preventClicks||i.params.preventClicksPropagation)&&i.container[t]("click",i.onClick,!0)},i.detachEvents=function(){i.attachEvents(!0)},i.onResize=function(){i.updateSize(),i.slideTo(i.activeSlideIndex,0,!1)};var r,l,d={},c={},f,u,m,v=!1,g=Date.now(),b;i.allowClick=!0,i.onClick=function(e){i.params.preventClicks&&!i.allowClick&&(e.preventDefault(),i.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},i.onTouchStart=function(e){r=!0,l=!1,u=void 0,d.x=c.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,d.y=c.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,f=Date.now(),i.allowClick=!0,i.updateSize(),i.params.onTouchStart&&i.params.onTouchStart(i,e),"mousedown"===e.type&&e.preventDefault()},i.onTouchMove=function(e){if(i.params.onTouchMove&&i.params.onTouchMove(i,e),i.allowClick=!1,!(e.targetTouches&&e.targetTouches.length>1)&&(c.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,c.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof u&&(u=!!(u||Math.abs(c.y-d.y)>Math.abs(c.x-d.x))),(o&&u||!o&&!u)&&i.params.onOppositeTouchMove&&i.params.onOppositeTouchMove(i,e),r)){if(o&&u||!o&&!u)return void(r=!1);i.params.onSliderMove&&i.params.onSliderMove(i,e),e.preventDefault(),e.stopPropagation(),l||(m=h.getTranslate(i.wrapper[0],o?"x":"y")*s,i.wrapper.transition(0),v&&i.onTransitionEnd(),t.autoplay&&C&&(i.params.autoplayDisableOnInteraction?i.stopAutoplay():w&&clearTimeout(w))),l=!0;var a=o?(c.x-d.x)*s:c.y-d.y;a>0&&0===i.activeSlideIndex?a=Math.pow(a,.85):0>a&&i.activeSlideIndex===i.slides.length-i.params.slidesPerView&&(a=-Math.pow(-a,.85));var n=o?(a+m)*s:0,p=o?0:a+m;i.wrapper.transform("translate3d("+n+"px, "+p+"px,0)")}},i.onTouchEnd=function(e){i.params.onTouchEnd&&i.params.onTouchEnd(i,e);var t=Date.now(),a=t-f;if(i.allowClick&&(300>a&&t-g>300&&(b&&clearTimeout(b),b=setTimeout(function(){i&&(i.params.paginationHide&&i.paginationContainer&&i.paginationContainer.toggleClass("slider-pagination-hidden"),i.params.onClick&&i.params.onClick(i,e))},300)),300>a&&300>t-g&&(b&&clearTimeout(b),i.params.onDoubleTap&&i.params.onDoubleTap(i,e)),i.params.onTap&&i.params.onTap(i,e)),g=Date.now(),!r||!l)return void(r=l=!1);r=l=!1;var n=o?(c.x-d.x)*s:c.y-d.y;Math.abs(n)<5&&300>a&&i.allowClick===!1&&(i.allowClick=!0),setTimeout(function(){i&&(i.allowClick=!0)},100);var p=i.params.autoplay&&C&&!i.params.autoplayDisableOnInteraction;if(0===n)return void(p&&i.startAutoplay());var h=1,u=i.size/i.params.slidesPerView;i.params.slidesPerView>1&&(h=Math.abs((Math.abs(n)+u/2)/u)),p&&i.wrapper.transitionEnd(function(){i.startAutoplay()}),a>300?-u/2>=n?i.slideTo(i.activeSlideIndex+Math.floor(h)):n>u/2?i.slideTo(i.activeSlideIndex-Math.floor(h)):i.slideReset():Math.abs(n)<10?i.slideReset():i.slideTo(0>n?i.activeSlideIndex+Math.round(h):i.activeSlideIndex-Math.round(h))},i.slideTo=function(e,t,a){"undefined"==typeof e&&(e=0),0>e&&(e=0),e>i.slides.length-i.params.slidesPerView&&(e=i.slides.length-i.params.slidesPerView);var n=-(i.size+i.params.spaceBetween)*e/i.params.slidesPerView;"undefined"==typeof t&&(t=i.params.speed),i.previousSlideIndex=i.activeSlideIndex,i.activeSlideIndex=Math.round(e),i.isFirst=0===i.activeSlideIndex,i.isLast=i.activeSlideIndex===i.slides.length-i.params.slidesPerView,i.onTransitionStart();var r=o?n*s:0,l=o?0:n;0===t?(i.wrapper.transition(0).transform("translate3d("+r+"px,"+l+"px,0)"),a!==!1&&i.onTransitionEnd()):(v=!0,i.wrapper.transition(t).transform("translate3d("+r+"px,"+l+"px,0)").transitionEnd(function(){a!==!1&&i.onTransitionEnd()}))},i.updateClasses=function(){i.slides.removeClass(i.params.slideActiveClass+" "+i.params.slideNextClass+" "+i.params.slidePrevClass);var e=i.slides.eq(i.activeSlideIndex);e.addClass(i.params.slideActiveClass),e.next().addClass(i.params.slideNextClass),e.prev().addClass(i.params.slidePrevClass),i.bullets&&i.bullets.length>0&&(i.bullets.removeClass(i.params.bulletActiveClass),i.bullets.eq(i.activeSlideIndex).addClass(i.params.bulletActiveClass))},i.onTransitionStart=function(){i.updateClasses(),i.activeSlideIndex!==i.previousSlideIndex&&i.params.onSlideChangeStart&&i.params.onSlideChangeStart(i),i.params.onTransitionStart&&i.params.onTransitionStart(i)},i.onTransitionEnd=function(){v=!1,i.wrapper.transition(0),i.activeSlideIndex!==i.previousSlideIndex&&i.params.onSlideChangeEnd&&i.params.onSlideChangeEnd(i),i.params.onTransitionEnd&&i.params.onTransitionEnd(i)},i.slideNext=function(){i.slideTo(i.activeSlideIndex+1)},i.slidePrev=function(){i.slideTo(i.activeSlideIndex-1)},i.slideReset=function(){i.slideTo(i.activeSlideIndex)},i.onClickNext=function(e){e.preventDefault(),i.slideNext()},i.onClickPrev=function(e){e.preventDefault(),i.slidePrev()},i.onClickIndex=function(e){e.preventDefault(),i.slideTo(h(this).index())};var w,C;return i.startAutoplay=function(){i.params.autoplay&&(C=!0,w&&clearTimeout(w),w=setTimeout(function(){i.wrapper.transitionEnd(function(){i.startAutoplay()});var e=i.activeSlideIndex+1;e>i.slides.length-i.params.slidesPerView&&(e=0),i.slideTo(e)},i.params.autoplay))},i.stopAutoplay=function(){C=!1,w&&clearTimeout(w)},i.resetAutoplay=function(){i.stopAutoplay(),i.startAutoplay()},i.init=function(){i.updateSlides(),i.updatePagination(),i.updateSize(),i.params.initialSlide>0?i.slideTo(i.params.initialSlide,0,!1):i.updateClasses(),i.attachEvents(),i.params.autoplay&&i.startAutoplay()},i.update=function(){i.updateSlides(),i.updatePagination(),i.updateSize(),i.updateClasses()},i.destroy=function(){i.detachEvents(),i.params.onDestroy&&i.params.onDestroy(),i=void 0},i.init(),i}};p.slider=function(e,t){return new w(e,t)},p.initSlider=function(e){function t(e){function t(){e.destroy(),a.off("pageBeforeRemove",t)}a.on("pageBeforeRemove",t)}var a=h(e),n=a.find(".slider-init");if(0!==n.length)for(var i=0;i<n.length;i++){var o=n.eq(i),s;s=o.data("slider")?JSON.parse(o.data("slider")):{initialSlide:parseInt(o.data("initialSlide"),10)||void 0,spaceBetween:parseInt(o.data("spaceBetween"),10)||void 0,speed:parseInt(o.data("speed"),10)||void 0,slidesPerView:o.data("slidesPerView"),direction:o.data("direction"),pagination:o.data("pagination"),paginationHide:o.data("paginationHide")&&("true"===o.data("paginationHide")?!0:!1),slideClass:o.data("slideClass"),slideActiveClass:o.data("slideActiveClass"),slideNextClass:o.data("slideNextClass"),slidePrevClass:o.data("slidePrevClass"),wrapperClass:o.data("wrapperClass"),bulletClass:o.data("bulletClass"),bulletActiveClass:o.data("bulletActiveClass"),nextButton:o.data("nextButton"),prevButton:o.data("prevButton"),indexButton:o.data("indexButton"),autoplay:o.data("autoplay")};var r=p.slider(o[0],s);t(r)}};var C=function(e){function t(){var e;for(n=0;n<p.views.length;n++)p.views[n].main&&(e=p.views[n]);return e}var a=this,n,i={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of"};e=e||{};for(var o in i)"undefined"==typeof e[o]&&(e[o]=i[o]);a.params=e;var s="dark"===a.params.theme?"color-white":"",r=a.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===a.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+s+'"></i><span>'+a.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+a.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',l=p.rtl?"next":"prev",d=p.rtl?"prev":"next",c=a.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+l+" "+s+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+d+" "+s+'"></i></a></div></div>',f=a.params.template||'<div class="photo-browser photo-browser-'+a.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',u=a.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',m=a.params.captionsTheme||a.params.theme,v=a.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+m+'">{{captions}}</div>',g=a.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',b=a.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',w="",C="";for(n=0;n<a.params.photos.length;n++){var x=a.params.photos[n],y="";"string"==typeof x||x instanceof String?y=x.indexOf("<")>=0||x.indexOf(">")>=0?b.replace(/{{html}}/g,x):u.replace(/{{url}}/g,x):"object"==typeof x&&(x.hasOwnProperty("html")&&x.html.length>0?y=b.replace(/{{html}}/g,x.html):x.hasOwnProperty("url")&&x.url.length>0&&(y=u.replace(/{{url}}/g,x.url)),x.hasOwnProperty("caption")&&x.caption.length>0?C+=g.replace(/{{caption}}/g,x.caption).replace(/{{captionIndex}}/g,n):y=y.replace(/{{caption}}/g,"")),w+=y}var T=f.replace("{{navbar}}",a.params.navbar?r:"").replace("{{noNavbar}}",a.params.navbar?"":"no-navbar").replace("{{photos}}",w).replace("{{captions}}",v.replace(/{{captions}}/g,C)).replace("{{toolbar}}",a.params.toolbar?c:"");a.activeSlideIndex=a.params.initialSlide,a.openIndex=a.activeSlideIndex,a.opened=!1,a.open=function(e){return"undefined"==typeof e&&(e=a.activeSlideIndex),e=parseInt(e,10),a.opened&&a.slider?void a.slider.slideTo(e):(a.opened=!0,a.openIndex=e,"standalone"===a.params.type&&h("body").append(T),"popup"===a.params.type&&(a.popup=p.popup('<div class="popup photo-browser-popup">'+T+"</div>"),h(a.popup).on("closed",a.onPopupClose)),"page"===a.params.type?(h(document).on("pageBeforeInit",a.onPageBeforeInit),h(document).on("pageBeforeRemove",a.onPageBeforeRemove),a.params.view||(a.params.view=t()),void a.params.view.loadContent(T)):(a.layout(a.openIndex),void(a.params.onOpen&&a.params.onOpen(a))))},a.close=function(){a.opened=!1,a.sliderContainer&&0!==a.sliderContainer.length&&(a.params.onClose&&a.params.onClose(a),a.attachEvents(!0),"standalone"===a.params.type&&a.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){a.container.remove()}),a.slider.destroy(),a.slider=a.sliderContainer=a.sliderWrapper=a.slides=L=I=A=void 0)},a.onPopupClose=function(e){a.close(),h(a.popup).off("pageBeforeInit",a.onPopupClose)},a.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&a.layout(a.openIndex),h(document).off("pageBeforeInit",a.onPageBeforeInit)},a.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&a.close(),h(document).off("pageBeforeRemove",a.onPageBeforeRemove)},a.layout=function(e){a.container="page"===a.params.type?h(".photo-browser-slider-container").parents(".view"):h(".photo-browser"),"standalone"===a.params.type&&(a.container.addClass("photo-browser-in"),p.sizeNavbars(a.container)),a.sliderContainer=a.container.find(".photo-browser-slider-container"),a.sliderWrapper=a.container.find(".photo-browser-slider-wrapper"),a.slides=a.container.find(".photo-browser-slide"),a.captionsContainer=a.container.find(".photo-browser-captions"),a.captions=a.container.find(".photo-browser-caption");var t={nextButton:a.params.nextButton||".photo-browser-next",prevButton:a.params.prevButton||".photo-browser-prev",indexButton:a.params.indexButton,initialSlide:e,spaceBetween:a.params.spaceBetween,speed:a.params.speed,onTap:function(e,t){a.params.onTap&&a.params.onTap(e,t)},onClick:function(e,t){a.params.exposition&&a.toggleExposition(),a.params.onClick&&a.params.onClick(e,t)},onDoubleTap:function(e,t){a.toggleZoom(h(t.target).parents(".photo-browser-slide")),a.params.onDoubleTap&&a.params.onDoubleTap(e,t)},onSlideChangeStart:function(e){a.activeSlideIndex=e.activeSlideIndex,a.container.find(".photo-browser-current").text(e.activeSlideIndex+1),a.container.find(".photo-browser-total").text(e.slides.length),h(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isFirst&&h(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isLast&&h(".photo-browser-next").addClass("photo-browser-link-inactive"),a.captions.length>0&&(a.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),a.captionsContainer.find('[data-caption-index="'+a.activeSlideIndex+'"]').addClass("photo-browser-caption-active"));var t=e.slides.eq(e.previousSlideIndex).find("video");t.length>0&&"pause"in t[0]&&t[0].pause(),a.params.onSlideChangeStart&&a.params.onSlideChangeStart(e)},onSlideChangeEnd:function(e){a.params.zoom&&L&&e.previousSlideIndex!==e.activeSlideIndex&&(I.transform("translate3d(0,0,0) scale(1)"),A.transform("translate3d(0,0,0)"),L=I=A=void 0,H=R=1),a.params.onSlideChangeEnd&&a.params.onSlideChangeEnd(e)}};a.params.swipeToClose&&"page"!==a.params.type&&(t.onTouchStart=a.swipeCloseTouchStart,t.onOppositeTouchMove=a.swipeCloseTouchMove,t.onTouchEnd=a.swipeCloseTouchEnd),a.slider=p.slider(a.sliderContainer,t),a.attachEvents()},a.attachEvents=function(e){var t=e?"off":"on";a.params.zoom&&(a.slides[t]("gesturestart",a.onSlideGestureStart),a.slides[t]("gesturechange",a.onSlideGestureChange),a.slides[t]("gestureend",a.onSlideGestureEnd),a.slides[t](p.touchEvents.start,a.onSlideTouchStart),a.slides[t](p.touchEvents.move,a.onSlideTouchMove),a.slides[t](p.touchEvents.end,a.onSlideTouchEnd)),a.container.find(".photo-browser-close-link")[t]("click",a.close)};var k,S,P={},O={},E,M,B=!1,N,D=!0;a.exposed=!1,a.toggleExposition=function(){a.container&&a.container.toggleClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.toggleClass("photo-browser-captions-exposed"),a.exposed=!a.exposed},a.expositionOn=function(){a.container&&a.container.addClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.addClass("photo-browser-captions-exposed"),a.exposed=!0},a.expositionOff=function(){a.container&&a.container.removeClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.removeClass("photo-browser-captions-exposed"),a.exposed=!1};var L,I,A,H=1,R=1,z=!1;a.onSlideGestureStart=function(e){L||(L=h(this),I=L.find("img"),A=I.parent()),I.transition(0),z=!0},a.onSlideGestureChange=function(e){H=e.scale*R,H>a.params.maxZoom&&(H=a.params.maxZoom-1+Math.pow(H-a.params.maxZoom+1,.5)),H<a.params.minZoom&&(H=a.params.minZoom+1-Math.pow(a.params.minZoom-H+1,.5)),I.transform("translate3d(0,0,0) scale("+H+")")},a.onSlideGestureEnd=function(e){H=Math.max(Math.min(H,a.params.maxZoom),a.params.minZoom),I.transition(a.params.speed).transform("translate3d(0,0,0) scale("+H+")"),R=H,z=!1,1===H&&(L=void 0)},a.toggleZoom=function(){L||(L=a.slides.eq(a.slider.activeSlideIndex),I=L.find("img"),A=I.parent()),A.transition(300).transform("translate3d(0,0,0)"),H&&1!==H?(H=R=1,I.transition(300).transform("translate3d(0,0,0) scale(1)"),L=void 0):(H=R=a.params.maxZoom,I.transition(300).transform("translate3d(0,0,0) scale("+H+")"))};var F,j,_,V,q,Y,X,G,W,U,J={},Q={},Z,K,$,et,tt,at,nt;a.onSlideTouchStart=function(e){F||("android"===p.device.os&&e.preventDefault(),F=!0,J.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,J.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)},a.onSlideTouchMove=function(e){if(a.slider.allowClick=!1,F&&L){j||(W=I[0].offsetWidth,U=I[0].offsetHeight,Z=h.getTranslate(A[0],"x")||0,K=h.getTranslate(A[0],"y")||0,A.transition(0));var t=W*H,n=U*H;if(!(t<a.slider.width&&n<a.slider.height)){if(q=Math.min(a.slider.width/2-t/2,0),X=-q,Y=Math.min(a.slider.height/2-n/2,0),G=-Y,Q.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,Q.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!j&&!z&&(Math.floor(q)===Math.floor(Z)&&Q.x<J.x||Math.floor(X)===Math.floor(Z)&&Q.x>J.x))return void(F=!1);e.stopPropagation(),j=!0,_=Q.x-J.x+Z,V=Q.y-J.y+K,q>_&&(_=q+1-Math.pow(q-_+1,.8)),_>X&&(_=X-1+Math.pow(_-X+1,.8)),Y>V&&(V=Y+1-Math.pow(Y-V+1,.8)),V>G&&(V=G-1+Math.pow(V-G+1,.8)),$||($=Q.x),at||(at=Q.y),et||(et=Date.now()),tt=(Q.x-$)/(Date.now()-et)/2,nt=(Q.y-at)/(Date.now()-et)/2,Math.abs(Q.x-$)<2&&(tt=0),Math.abs(Q.y-at)<2&&(nt=0),$=Q.x,at=Q.y,et=Date.now(),A.transform("translate3d("+_+"px, "+V+"px,0)")}}},a.onSlideTouchEnd=function(e){if(!F||!j)return F=!1,void(j=!1);F=!1,j=!1;var t=300,n=300,i=tt*t,o=_+i,s=nt*n,r=V+s;0!==tt&&(t=Math.abs((o-_)/tt)),0!==nt&&(n=Math.abs((r-V)/nt));var l=Math.max(t,n);_=o,V=r;var d=W*H,c=U*H;q=Math.min(a.slider.width/2-d/2,0),X=-q,Y=Math.min(a.slider.height/2-c/2,0),G=-Y,_=Math.max(Math.min(_,X),q),V=Math.max(Math.min(V,G),Y),A.transition(l).transform("translate3d("+_+"px, "+V+"px,0)")};var it=!1,ot=!0,st,rt,lt,dt=!1,ct,pt;return a.swipeCloseTouchStart=function(e,t){ot&&(it=!0)},a.swipeCloseTouchMove=function(e,t){if(it){dt||(dt=!0,rt="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,ct=a.slider.slides.eq(a.slider.activeSlideIndex),pt=(new Date).getTime()),t.preventDefault(),lt="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,st=rt-lt;var n=1-Math.abs(st)/300;ct.transform("translate3d(0,"+-st+"px,0)"),a.slider.container.css("opacity",n).transition(0)
}},a.swipeCloseTouchEnd=function(e,t){if(it=!1,!dt)return void(dt=!1);dt=!1,ot=!1;var n=Math.abs(st),i=(new Date).getTime()-pt;return 300>i&&n>20||i>=300&&n>100?void setTimeout(function(){"standalone"===a.params.type&&a.close(),"popup"===a.params.type&&p.closeModal(a.popup),a.params.onSwipeToClose&&a.params.onSwipeToClose(a),ot=!0},0):(0!==n?ct.addClass("transitioning").transitionEnd(function(){ot=!0,ct.removeClass("transitioning")}):ot=!0,a.slider.container.css("opacity","").transition(""),void ct.transform(""))},a};p.photoBrowser=function(e){return new C(e)};var x;p.addNotification=function(e){if(e){"undefined"==typeof e.media&&(e.media=p.params.notificationMedia),"undefined"==typeof e.title&&(e.title=p.params.notificationTitle),"undefined"==typeof e.subtitle&&(e.subtitle=p.params.notificationSubtitle),"undefined"==typeof e.closeIcon&&(e.closeIcon=p.params.notificationCloseIcon),"undefined"==typeof e.hold&&(e.hold=p.params.notificationHold),"undefined"==typeof e.closeOnClick&&(e.closeOnClick=p.params.notificationCloseOnClick),x||(x=document.createElement("div"));var t=h(".notifications");0===t.length&&(h("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),t=h(".notifications"));var a=t.children("ul"),n;n=e.custom?"<li>"+e.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(e.media?'<div class="item-media">'+e.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(e.title?'<div class="item-title">'+e.title+"</div>":"")+(e.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(e.subtitle?'<div class="item-subtitle">'+e.subtitle+"</div>":"")+(e.message?'<div class="item-text">'+e.message+"</div>":"")+"</div></div></li>",x.innerHTML=n;var i=h(x).children();i.on("click",function(t){var a=!1;h(t.target).is(".close-notification")||h(t.target).parents(".close-notification").length>0?a=!0:(e.onClick&&e.onClick(t,i[0]),e.closeOnClick&&(a=!0)),a&&p.closeNotification(i[0])}),e.onClose&&i.data("f7NotificationOnClose",function(){e.onClose(i[0])}),e.additionalClass&&i.addClass(e.additionalClass),e.hold&&setTimeout(function(){i.length>0&&p.closeNotification(i[0])},e.hold),a.prepend(i[0]),t.show();var o=i.height();i.css("marginTop",-o+"px"),i.transition(0);var s=i[0].clientLeft;return i.transition(""),i.css("marginTop","0px"),t.transform("translate3d(0, 0,0)"),i.removeClass("notification-hidden"),i[0]}},p.closeNotification=function(e){if(e=h(e),0!==e.length&&!e.hasClass("notification-item-removing")){var t=h(".notifications"),a=e.height();e.css("height",a+"px").transition(0);var n=e[0].clientLeft;e.css("height","0px").transition("").addClass("notification-item-removing"),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===t.find(".notification-item:not(.notification-item-removing)").length&&t.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===t.find(".notification-item").length&&t.hide()})}};var y=[];return p.initPlugins=function(){for(var e in p.plugins){var t=p.plugins[e](p,p.params[e]);t&&y.push(t)}},p.pluginHook=function(e){for(var t=0;t<y.length;t++)y[t].hooks&&e in y[t].hooks&&y[t].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},p.pluginPrevent=function(e){for(var t=!1,a=0;a<y.length;a++)y[a].prevents&&e in y[a].prevents&&y[a].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(t=!0);return t},p.pluginProcess=function(e,t){for(var a=t,n=0;n<y.length;n++)y[n].preprocess&&process in y[n].preprocess&&(a=y[n].preprocess[process](t,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return a},p.init=function(){p.initPlugins&&p.initPlugins(),p.getDeviceInfo&&p.getDeviceInfo(),p.initFastClicks&&p.params.fastClicks&&p.initFastClicks(),p.initClickEvents&&p.initClickEvents(),h(".page").each(function(){var e=h(this),t=e.parents("."+p.params.viewClass);if(0!==t.length){var a=t[0].f7View||!1,n=a&&a.url?a.url:!1;t&&t.attr("data-page",e.attr("data-page")||void 0),p.pageInitCallback(a,this,n,"center")}}),p.initResize&&p.initResize(),p.initPushState&&p.params.pushState&&p.initPushState(),p.initSwipeout&&p.params.swipeout&&p.initSwipeout(),p.initSortable&&p.params.sortable&&p.initSortable(),p.initSwipePanels&&p.params.swipePanel&&p.initSwipePanels(),p.params.onAppInit&&p.params.onAppInit(),p.pluginHook("appInit")},p.params.init&&p.init(),p};var e=function(){var e=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,this},t=function(t,a){var n=[],i=0;if(t&&!a&&t instanceof e)return t;if(t)if("string"==typeof t){var o=(a||document).querySelectorAll(t);for(i=0;i<o.length;i++)n.push(o[i])}else if(t.nodeType||t===window||t===document)n.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i++)n.push(t[i]);return new e(n)};e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)this[n].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)this[n].classList.remove(t[a]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)this[n].classList.toggle(t[a]);return this},attr:function(e,t){if("undefined"==typeof t)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a++)this[a].setAttribute(e,t);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e)},prop:function(e,t){if("undefined"==typeof t)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)this[a][e]=t;return this},data:function(e,t){if("undefined"==typeof t){if(this[0]){var a=this[0].getAttribute("data-"+e);return a?a:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}return void 0}for(var n=0;n<this.length;n++){var i=this[n];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this},val:function(e){if("undefined"==typeof e)return this[0]?this[0].value:null;for(var t=0;t<this.length;t++)this[t].value=e;return this},transform:function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this},on:function(e,a,n,i){function o(e){var i=e.target;if(t(i).is(a))n.call(i,e);else for(var o=t(i).parents(),s=0;s<o.length;s++)t(o[s]).is(a)&&n.call(o[s],e)}var s=e.split(" "),r,l;for(r=0;r<this.length;r++)if("function"==typeof a||a===!1)for("function"==typeof a&&(n=arguments[1],i=arguments[2]||!1),l=0;l<s.length;l++)this[r].addEventListener(s[l],n,i);else for(l=0;l<s.length;l++)this[r].dom7LiveListeners||(this[r].dom7LiveListeners=[]),this[r].dom7LiveListeners.push({listener:n,liveListener:o}),this[r].addEventListener(s[l],o,i);return this},off:function(e,t,a,n){for(var i=e.split(" "),o=0;o<i.length;o++)for(var s=0;s<this.length;s++)if("function"==typeof t||t===!1)"function"==typeof t&&(a=arguments[1],n=arguments[2]||!1),this[s].removeEventListener(i[o],a,n);else if(this[s].dom7LiveListeners)for(var r=0;r<this[s].dom7LiveListeners.length;r++)this[s].dom7LiveListeners[r].listener===a&&this[s].removeEventListener(i[o],this[s].dom7LiveListeners[r].liveListener,n);return this},once:function(e,t,a,n){function i(s){a(s),o.off(e,t,i,n)}var o=this;"function"==typeof t&&(t=!1,a=arguments[1],n=arguments[2]),o.on(e,t,i,n)},trigger:function(e,t){for(var a=0;a<this.length;a++){var n;try{n=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(i){n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.detail=t}this[a].dispatchEvent(n)}return this},transitionEnd:function(e){function t(i){if(i.target===this)for(e.call(this,i),n=0;n<a.length;n++)o.off(a[n],t)}var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,o=this;if(e)for(n=0;n<a.length;n++)o.on(a[n],t);return this},animationEnd:function(e){function t(i){for(e(i),n=0;n<a.length;n++)o.off(a[n],t)}var a=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],n,i,o=this;if(e)for(n=0;n<a.length;n++)o.on(a[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.body,n=e.clientTop||a.clientTop||0,i=e.clientLeft||a.clientLeft||0,o=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return{top:t.top+o-n,left:t.left+s-i}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a++)for(var n in e)this[a].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a++)this[a].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[0].textContent=e},is:function(a){if(!this[0])return!1;var n,i;if("string"==typeof a){var o=this[0];if(o===document)return a===document;if(o===window)return a===window;if(o.matches)return o.matches(a);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(a);if(o.mozMatchesSelector)return o.mozMatchesSelector(a);if(o.msMatchesSelector)return o.msMatchesSelector(a);for(n=t(a),i=0;i<n.length;i++)if(n[i]===this[0])return!0;return!1}if(a===document)return this[0]===document;if(a===window)return this[0]===window;if(a.nodeType||a instanceof e){for(n=a.nodeType?[a]:a,i=0;i<n.length;i++)if(n[i]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}return void 0},eq:function(t){if("undefined"==typeof t)return this;var a=this.length,n;return t>a-1?new e([]):0>t?(n=a+t,new e(0>n?[]:[this[n]])):new e([this[t]])},append:function(t){var a,n;for(a=0;a<this.length;a++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)this[a].appendChild(i.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[a].appendChild(t[n]);else this[a].appendChild(t);return this},prepend:function(t){var a,n;for(a=0;a<this.length;a++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n--)this[a].insertBefore(i.childNodes[n],this[a].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[a].insertBefore(t[n],this[a].childNodes[0]);else this[a].insertBefore(t,this[a].childNodes[0]);return this},insertBefore:function(e){for(var a=t(e),n=0;n<this.length;n++)if(1===a.length)a[0].parentNode.insertBefore(this[n],a[0]);else if(a.length>1)for(var i=0;i<a.length;i++)a[i].parentNode.insertBefore(this[n].cloneNode(!0),a[i])},insertAfter:function(e){for(var a=t(e),n=0;n<this.length;n++)if(1===a.length)a[0].parentNode.insertBefore(this[n],a[0].nextSibling);else if(a.length>1)for(var i=0;i<a.length;i++)a[i].parentNode.insertBefore(this[n].cloneNode(!0),a[i].nextSibling)},next:function(a){return new e(this.length>0?a?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(a)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(a){var n=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var o=i.nextElementSibling;n.push(a&&t(o).is(a)?o:o),i=o}return new e(n)},prev:function(a){return new e(this.length>0?a?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(a)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(a){var n=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var o=i.previousElementSibling;n.push(a&&t(o).is(a)?o:o),i=o}return new e(n)},parent:function(e){for(var a=[],n=0;n<this.length;n++)e?t(this[n].parentNode).is(e)&&a.push(this[n].parentNode):a.push(this[n].parentNode);return t(t.unique(a))},parents:function(e){for(var a=[],n=0;n<this.length;n++)for(var i=this[n].parentNode;i;)e?t(i).is(e)&&a.push(i):a.push(i),i=i.parentNode;return t(t.unique(a))},find:function(t){for(var a=[],n=0;n<this.length;n++)for(var i=this[n].querySelectorAll(t),o=0;o<i.length;o++)a.push(i[o]);return new e(a)},children:function(a){for(var n=[],i=0;i<this.length;i++)for(var o=this[i].childNodes,s=0;s<o.length;s++)a?1===o[s].nodeType&&t(o[s]).is(a)&&n.push(o[s]):1===o[s].nodeType&&n.push(o[s]);return new e(t.unique(n))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()}},function(){function t(t){e.prototype[t]=function(e){var a;if("undefined"==typeof e){for(a=0;a<this.length;a++)n.indexOf(t)<0&&this[a][t]();return this}return this.on(t,e)}}for(var a="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),n="resize scroll".split(" "),i=0;i<a.length;i++)t(a[i])}();var a=0;return t.ajax=function(e){var n={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};e.type&&(e.method=e.type);for(var i in n)i in e||(e[i]=n[i]);e.url||(e.url=window.location.toString());var o=e.method.toUpperCase();if(("GET"===o||"HEAD"===o)&&e.data){var s;s="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:t.serializeObject(e.data),e.url+=e.url.indexOf("?")>=0?"&"+s:"?"+s}if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var r="f7jsonp_"+Date.now()+a++,l,d,c=e.url.split("callback=");if(c[1].indexOf("&")>=0){var p=c[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");l=c[0]+"callback="+r+(p.length>0?"&"+p:"")}else l=c[0]+"callback="+r;var f=document.createElement("script");return f.type="text/javascript",f.onerror=function(){clearTimeout(d),e.error&&e.error()},f.src=l,window[r]=function(t){clearTimeout(d),e.success&&e.success(t),f.parentNode.removeChild(f),f=null,delete window[r]},document.querySelector("head").appendChild(f),void(e.timeout>0&&(d=setTimeout(function(){f.parentNode.removeChild(f),f=null,e.error&&e.error()},e.timeout)))}("GET"===o||"HEAD"===o)&&e.cache===!1&&(e.url+="_nocache="+Date.now());var h=new XMLHttpRequest;h.open(o,e.url,e.async,e.user,e.password);var u=null;if(("POST"===o||"PUT"===o)&&e.data)if(e.processData){var m=[ArrayBuffer,Blob,Document,FormData];if(m.indexOf(e.data.constructor)>=0)u=e.data;else{var v="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?h.setRequestHeader("Content-Type","multipart/form-data; boundary="+v):h.setRequestHeader("Content-Type",e.contentType),u="";var g=t.serializeObject(e.data);if("multipart/form-data"===e.contentType){v="---------------------------"+Date.now().toString(16),g=g.split("&");for(var b=[],w=0;w<g.length;w++)b.push('Content-Disposition: form-data; name="'+g[w].split("=")[0]+'"\r\n\r\n'+g[w].split("=")[1]+"\r\n");u="--"+v+"\r\n"+b.join("--"+v+"\r\n")+"--"+v+"--\r\n"}else u="application/x-www-form-urlencoded"===e.contentType?g:g.replace(/&/g,"\r\n")}}else u=e.data;if(e.headers)for(var C in e.headers)h.setRequestHeader(C,e.headers[C]);if("undefined"==typeof e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||h.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields)for(var x in e.xhrFields)h[x]=e.xhrFields[x];return h.onload=function(a){if((200===h.status||0===h.status)&&(t(document).trigger("ajaxSuccess",{xhr:h}),e.success)){var n=h.responseText;"json"===e.dataType&&(n=JSON.parse(n)),e.success(n,h.status,h)}e.statusCode&&e.statusCode[h.status]&&e.statusCode[h.status](h),e.complete&&e.complete(h),t(document).trigger("ajaxComplete",{xhr:h})},h.onerror=function(a){t(document).trigger("ajaxError",{xhr:h}),e.error&&e.error(h)},e.start&&e.start(h),t(document).trigger("ajaxStart",{xhr:h}),h.send(u),h},function(){function e(e){t[e]=function(a,n,i){return t.ajax({url:a,method:"post"===e?"POST":"GET",data:"function"==typeof n?void 0:n,success:"function"==typeof n?n:i,dataType:"getJSON"===e?"json":void 0})}}for(var a="get post getJSON".split(" "),n=0;n<a.length;n++)e(a[n])}(),t.parseUrlQuery=function(e){var t={},a,n,i;if(!(e.indexOf("?")>=0))return t;for(e=e.split("?")[1],n=e.split("&"),a=0;a<n.length;a++)i=n[a].split("="),t[i[0]]=i[1];return t},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)?!0:!1},t.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},t.trim=function(e){return e.trim()},t.serializeObject=function(e){if("string"==typeof e)return e;var a=[],n="&";for(var i in e)if(t.isArray(e[i])){for(var o=[],s=0;s<e[i].length;s++)o.push(i+"="+e[i][s]);a.push(o.join(n))}else a.push(i+"="+e[i]);return a.join(n)},t.getTranslate=function(e,t){var a,n,i,o;return"undefined"==typeof t&&(t="x"),i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?o=new WebKitCSSMatrix("none"===i.webkitTransform?"":i.webkitTransform):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=o.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?o.m41:parseFloat(16===a.length?a[12]:a[4])),"y"===t&&(n=window.WebKitCSSMatrix?o.m42:parseFloat(16===a.length?a[13]:a[5])),n||0},t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},t.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.fn=e.prototype,t.fn.scrollTo=function(e,a,n){return this.each(function(){function i(e){void 0===e&&(e=(new Date).getTime()),null===v&&(v=e);var a,l,d;u&&(f=s+(e-v)/n*(c-s)),m&&(h=r+(e-v)/n*(p-r)),u&&c>s&&f>=c&&(o.scrollTop=c,d=!0),u&&s>c&&c>=f&&(o.scrollTop=c,d=!0),m&&p>r&&h>=p&&(o.scrollLeft=p,d=!0),m&&r>p&&p>=h&&(o.scrollLeft=p,d=!0),d||(u&&(o.scrollTop=f),m&&(o.scrollLeft=h),t.requestAnimationFrame(i))}var o=this,s,r,l,d,c,p,f,h,u=a>0||0===a,m=e>0||0===e;if(u&&(s=o.scrollTop,n||(o.scrollTop=a)),m&&(r=o.scrollLeft,n||(o.scrollLeft=e)),n){u&&(l=o.scrollHeight-o.offsetHeight,c=Math.max(Math.min(a,l),0)),m&&(d=o.scrollWidth-o.offsetWidth,p=Math.max(Math.min(e,d),0));var v=null;u&&c===s&&(u=!1),m&&p===r&&(m=!1),t.requestAnimationFrame(i)}})},t.fn.scrollTop=function(e,t){var a=this;return"undefined"==typeof e?a.length>0?a[0].scrollTop:null:a.scrollTo(void 0,e,t)},t.fn.scrollLeft=function(e,t){var a=this;return"undefined"==typeof e?a.length>0?a[0].scrollLeft:null:a.scrollTo(e,void 0,t)},t}();Framework7.$=e;var t=e;window.Dom7=e,Framework7.prototype.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return e}(),Framework7.prototype.device=function(){var t={},a=navigator.userAgent,n=e,i=a.match(/(Android);?[\s\/]+([\d.]+)?/),o=a.match(/(iPad).*OS\s([\d_]+)/),s=a.match(/(iPod)(.*OS\s([\d_]+))?/),r=!o&&a.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=!1,i&&(t.os="android",t.osVersion=i[2],t.android=!0),(o||r||s)&&(t.os="ios",t.ios=!0),r&&!s&&(t.osVersion=r[2].replace(/_/g,"."),t.iphone=!0),o&&(t.osVersion=o[2].replace(/_/g,"."),t.ipad=!0),s&&(t.osVersion=s[3]?s[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&a.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(r||o||s)&&a.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var l=t.osVersion.split(".");t.minimalUi=!t.webView&&(s||r)&&(1*l[0]===7?1*l[1]>=1:1*l[0]>7)&&n('meta[name="viewport"]').length>0&&n('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var d=n(window).width(),c=n(window).height();t.statusBar=!1,t.statusBar=t.webView&&d*c===screen.width*screen.height?!0:!1;var p=[];if(t.pixelRatio=window.devicePixelRatio||1,t.pixelRatio>=2&&p.push("retina"),t.os&&(p.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var f=parseInt(t.osVersion.split(".")[0],10),h=f-1;h>=6;h--)p.push("ios-gt-"+h);return t.statusBar?p.push("with-statusbar-overlay"):n("html").removeClass("with-statusbar-overlay"),p.length>0&&n("html").addClass(p.join(" ")),t}(),Framework7.prototype.plugins={}}(),window.Template7=function(){"use strict";function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return e instanceof Object}function a(e){return"function"==typeof e}function n(e){var t=e.replace(/[{}#}]/g,"").split(" "),a=[],n,i,o;for(i=0;i<t.length;i++){var s=t[i];if(0===i)a.push(s);else if(0===s.indexOf('"'))if(2===s.match(/"/g).length)a.push(s);else{for(n=0,o=i+1;o<t.length;o++)if(s+=" "+t[o],t[o].indexOf('"')>=0){n=o,a.push(s);break}n&&(i=n)}else if(s.indexOf("=")>0){var r=s.split("="),l=r[0],d=r[1];if(2!==d.match(/"/g).length){for(n=0,o=i+1;o<t.length;o++)if(d+=" "+t[o],t[o].indexOf('"')>=0){n=o;break}n&&(i=n)}var c=[l,d.replace(/"/g,"")];a.push(c)}else a.push(s)}return a}function i(t){var a=[],i,o,s;if(!t)return[];var r=t.split(/({{[^{^}]*}})/);for(i=0;i<r.length;i++){var l=r[i];if(""!==l)if(l.indexOf("{{")<0)a.push({type:"plain",content:l});else{if(l.indexOf("{/")>=0)continue;if(l.indexOf("{#")<0&&l.indexOf(" ")<0&&l.indexOf("else")<0){a.push({type:"variable",contextName:l.replace(/[{}]/g,"")});continue}var d=n(l),c=d[0],p=[],f={};for(o=1;o<d.length;o++){var h=d[o];e(h)?f[h[0]]="false"===h[1]?!1:h[1]:p.push(h)}if(l.indexOf("{#")>=0){var u=i,m="",v="",g=0,b,w=!1,C=!1,x=!1,y=0;for(o=i+1;o<r.length;o++)if(r[o].indexOf("{{#")>=0&&y++,r[o].indexOf("{{/")>=0&&y--,r[o].indexOf("{{#"+c)>=0)m+=r[o],C&&(v+=r[o]),g++;else if(r[o].indexOf("{{/"+c)>=0){if(!(g>0)){b=o,w=!0;break}g--,m+=r[o],C&&(v+=r[o])}else r[o].indexOf("else")>=0&&0===y?C=!0:(C||(m+=r[o]),C&&(v+=r[o]));w&&(b&&(i=b),a.push({type:"helper",helperName:c,contextName:p,content:m,inverseContent:v,hash:f}))}else l.indexOf(" ")>0&&a.push({type:"helper",helperName:c,contextName:p,hash:f})}}return a}var o={},s=function(e,t){function a(e,t){return e.content?r(e.content,t):function(){return""}}function n(e,t){return e.inverseContent?r(e.inverseContent,t):function(){return""}}function o(e,t){var a,n,i;if(e.indexOf(".")>0)n=0===e.indexOf("this")?e.replace("this",t):t+"."+e;else if(0===e.indexOf("../")){var o=e.split("../").length-1,s=e.split("../")[e.split("../").length-1],r=t.split("_")[1]-o;n="ctx_"+(r>=1?r:1)+"."+s}else n="this"===e?t:t+"."+e;return e&&e.indexOf("@")>=0&&(n="(data && data."+e.replace("@","")+")"),n}function s(e,t){for(var a=[],n=0;n<e.length;n++)a.push(0===e[n].indexOf('"')?e[n]:o(e[n],t));return a.join(", ")}function r(e,t){if(t=t||1,e=e||l.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var r=i(e);if(0===r.length)return function(){return""};var d="ctx_"+t,c="(function ("+d+", data) {\n";1===t&&(c+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",c+="function isFunction(func){return (typeof func === 'function');}\n",c+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),c+="var r = '';\n";var p,f,h;for(p=0;p<r.length;p++){var u=r[p];if("plain"!==u.type){var m,v;if("variable"===u.type&&(m=o(u.contextName,d),c+="r += c("+m+", "+d+");"),"helper"===u.type)if(u.helperName in l.helpers)v=s(u.contextName,d),c+="r += (Template7.helpers."+u.helperName+").call("+d+", "+v+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+a(u,t+1)+", inverse: "+n(u,t+1)+"});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');m=o(u.helperName,d),c+="if ("+m+") {",c+="if (isArray("+m+")) {",c+="r += (Template7.helpers.each).call("+d+", "+m+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+a(u,t+1)+", inverse: "+n(u,t+1)+"});",c+="}else {",c+="r += (Template7.helpers.with).call("+d+", "+m+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+a(u,t+1)+", inverse: "+n(u,t+1)+"});",c+="}}"}}else c+="r +='"+u.content.replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return c+="\nreturn r;})",eval.call(window,c)}var l=this;l.template=e,l.context=t,l.compile=function(e){return l.compiled||(l.compiled=r(e)),l.compiled}};s.prototype={options:{},helpers:{"if":function(e,t){return a(e)&&(e=e.call(this)),e?t.fn(this,t.data):t.inverse(this,t.data)},unless:function(e,t){return a(e)&&(e=e.call(this)),e?t.inverse(this,t.data):t.fn(this,t.data)},each:function(t,n){var i="",o=0;if(a(t)&&(t=t.call(this)),e(t)){for(n.hash.reverse&&(t=t.reverse()),o=0;o<t.length;o++)i+=n.fn(t[o],{first:0===o,last:o===t.length-1,index:o});n.hash.reverse&&(t=t.reverse())}else for(var s in t)o++,i+=n.fn(t[s],{key:s});return o>0?i:n.inverse(this)},"with":function(e,t){return a(e)&&(e=e.call(this)),t.fn(e)},join:function(e,t){return a(e)&&(e=e.call(this)),e.join(t.hash.delimeter)}}};var r=function(e,t){if(2===arguments.length){var a=new s(e),n=a.compile()(t);return a=null,n}return new s(e)};return r.registerHelper=function(e,t){s.prototype.helpers[e]=t},r.compile=function(e){var t=new s(e);return t.compile()},r.options=s.prototype.options,r.helpers=s.prototype.helpers,r}();